<!doctype html><html class="page__root"><head><meta charset="utf-8"/><title></title><link rel="stylesheet" href="../.dist/dist.css"/><script src="//yandex.st/jquery/1.8.2/jquery.min.js"></script><script src="../.dist/dist.js"></script></head><body class="page"><div class="catalogue"><div class="block"><div class="header"><a class="link link_pos_right" href="../index/index.html">← каталог</a><span class="header__block-name">Блок attach</span></div><div class="block__title"></div><div class="block__description static-text"><h1 id="attach">attach</h1>
<p>Блок <code>attach</code> служит для загрузки файла, предназначенного для отправки на сервер.</p>
<p>По умолчанию блок визуально представлен кнопкой на основе блока <a href="https://github.com/bem/bem-components/blob/v2/common.blocks/button/button.ru.md">button</a>, открывающей системное окно загрузки файла, и текстовым сообщением «Файл не выбран». После загрузки файла отображаются следующие элементы:</p>
<ul>
<li>иконка файла (блок <code>icon</code>);</li>
<li>имя файла (<code>__text</code>);</li>
<li>крестик для отмены (<code>__clear</code>).</li>
</ul>
<p>Не позволяет прикреплять несколько файлов и не поддерживает drag-and-drop.</p>
<h2 id="-">Модификаторы блока</h2>
<h3 id="-_theme-">Темы оформления  <code>_theme</code></h3>
<p>Блок представлен только в теме <em>simple</em>.</p>
<p>Без указания модификатора темы отображается нативный вид контрола (<em>default</em>).</p>
<p>Наглядно видно на примерах ниже:</p>
<pre><code class="lang-bemjson">{
    block : &#39;attach&#39;,
    button : &#39;Выберите файл&#39;,
    noFileText : &#39;Файл не выбран&#39;
}
</code></pre>
<pre><code class="lang-bemjson">{
    block : &#39;attach&#39;,
    mods : { theme : &#39;simple&#39; },
    button : &#39;Выберите файл&#39;,
    noFileText : &#39;Файл не выбран&#39;
}
</code></pre>
<h3 id="-">Состояния блока</h3>
<h4 id="-_disabled-">Неактивен <code>_disabled</code></h4>
<p>В состоянии блока «неактивен» кнопка выбора становится недоступной для действий пользователя.</p>
<p>Если модификатор <code>disabled</code> не выбран, кнопка по умолчанию активна.</p>
<pre><code class="lang-bemjson">{
    block : &#39;attach&#39;,
    mods : { theme : &#39;simple&#39;, disabled : true },
    button : &#39;Выберите файл&#39;,
    noFileText : &#39;файл не выбран&#39;
}
</code></pre>
<h2 id="-">Элементы блока</h2>
<p>Визуально представлен следующими элементами:</p>
<h3 id="__button">__button</h3>
<p>Обязательный элемент.
Кнопка выбора файла. Открывает системное окно загрузки файла. Создается на основе блока <a href="https://github.com/bem/bem-components/blob/v2/common.blocks/button/button.ru.md">button</a> и использует его поведение (JS) и внешний вид (CSS). Контент кнопки задается во входных данных.</p>
<pre><code class="lang-bemjson">{
    block : &#39;attach&#39;,
    mods : { theme : &#39;simple&#39; },
    button : {
        block : &#39;button&#39;,
        mods : { theme : &#39;simple&#39; },
        icon : { block : &#39;icon&#39;, mods : { action : &#39;download&#39; },
        text: &#39;Выберите файл&#39;
        }
    },
    noFileText : &#39;Файл не выбран&#39;
}
</code></pre>
<h3 id="__control">__control</h3>
<p>Нативный контрол «прикрепить файл».</p>
<p>Преобразуется BEMHTML- и BH-шаблонами в нативный элемент прикрепления файла с атрибутами <code>&lt;input class=&quot;attach__control&quot; type=&quot;file&quot;&gt;</code>.</p>
<h3 id="__no-file">__no-file</h3>
<p>Элемент для отображения текста, когда файл не выбран.</p>
<p>Если тема <em>simple</em> не указана для блока <code>attach</code>, будет отображаться значение нативного контрола – «Файл не выбран».</p>
<h3 id="__file">__file</h3>
<p>Контейнер с информацией о прикрепленном файле.</p>
<p>Формируется из следующих элементов блока:</p>
<ul>
<li><code>__text</code></li>
<li><code>__clear</code></li>
</ul>
<p>Может содержать блок <code>icon</code>. В зависимости от типа файла, блоку <code>icon</code> добавляется соответствующий модификатор, которому будет назначена иконка типа файла.</p>
<h3 id="__text">__text</h3>
<p>Имя файла. Появляется после прикрепления файла.</p>
<h3 id="__clear">__clear</h3>
<p>Кнопка отмены выбранного файла (крестик). Появляется после прикрепления файла.</p>
<p>Элемент реализован для темы <em>simple</em>.</p>
<h3 id="-">Зависимости блока</h3>
<ul>
<li><code>base-control</code></li>
<li><code>i-bem__dom</code></li>
<li><code>icon</code></li>
<li><code>button</code></li>
</ul>
</div><div class="block__examples"><div class="example i-bem" onclick="return {&quot;example&quot;:{}}" id="attach:examples:simple:_simple:ru"><a class="example__title" href="attach.examples/simple/_simple.ru.html" target="_blank"></a><div class="example__source-switch"><span class="link link_pseudo_yes cut">Исходный код</span></div><iframe class="example__source" src="attach.examples/simple/_simple.ru.bemjson.js"></iframe><iframe class="example__live" src="attach.examples/simple/_simple.ru.html"></iframe></div></div></div></div></body></html>