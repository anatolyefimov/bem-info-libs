{"ru":{"name":"dropdown","examples":[{"url":"touch-pad.tests/dropdown/gemini"},{"url":"touch-pad.tests/dropdown/simple"}],"description":"<h1 id=\"dropdown\">dropdown</h1>\n<p>Блок <code>dropdown</code> используется для создания выпадающих элементов и позволяет изменять их состояние, поведение и внешний вид. Блок состоит из двух компонентов – управляющего компонента и попапа (блок <code>popup</code>), который отображается поверх остальных элементов страницы.</p>\n<p>Управляющий компонент при щелчке мышью вызывает попап (устанавливает для блока <code>popup</code> модификатор <code>_visible</code>).</p>\n<p>В зависимости от значения модификатора <code>_switcher</code> управляющим компонентом может служить ссылка, псевдоссылка или кнопка.</p>\n<h2 id=\"-\">Допустимые параметры блока</h2>\n<p>Допустимые параметры блока задаются в одноименных полях входного BEMJSON блока:</p>\n<table>\n    <tr>\n        <th>Атрибут</th>\n        <th>Тип</th>\n        <th>Описание</th>\n    </tr>\n    <tr>\n        <td>switcher</td>\n        <td><code>String|BEMJSON</code></td>\n        <td>Текст управляющего компонента. Может содержать фрагмент BEMJSON, например, если нужно обернуть управляющий компонент в другой блок или передать ему дополнительные параметры. </td>\n    </tr>\n    <tr>\n        <td>popup</td>\n        <td><code>String|BEMJSON</code></td>\n        <td>Текст или фрагмент BEMJSON, отображаемый во всплывающем окне <code>popup</code>. BEMJSON при этом будет преобразован в HTML.</td>\n    </tr>\n</table>\n\n\n\n<h2 id=\"-\">Модификаторы блока</h2>\n<h3 id=\"-_theme-\">Темы блока <code>_theme</code></h3>\n<ul>\n<li>simple</li>\n<li>normal</li>\n</ul>\n<p>Без указания темы к блоку применяются значения по умолчанию (<em>default</em>), установленные браузером.</p>\n<p>Наглядно показано на примерах ниже:</p>\n<h4 id=\"default\">default</h4>\n<!-- bem-example: touch-pad.examples/dropdown/WcgFmT2l-N83y2w6hRJ-qqSpzkY -->\n\n\n<h4 id=\"simple\">simple</h4>\n<!-- bem-example: touch-pad.examples/dropdown/3LxBJkGCYdsRIM3jgENaGnBRRuI -->\n\n\n<h4 id=\"normal\">normal</h4>\n<!-- bem-example: touch-pad.examples/dropdown/7xwP-2BJ2nd_leTd5MyNfCK8-wA -->\n\n\n\n<h3 id=\"-_switcher-\">Управляющий компонент <code>_switcher</code></h3>\n<p>Обязательный модификатор.</p>\n<p>Модификатор отвечает за то, какой блок будет использоваться в качестве управляющего компонента:</p>\n<ul>\n<li><code>_switcher_link</code> - ссылка. В качестве управляющего компонента используется блок <code>link</code>.</li>\n<li><code>_switcher_button</code> - кнопка. В качестве управляющего компонента используется блок <code>button</code>.</li>\n</ul>\n<p>Реализован во всех темах.</p>\n<!-- bem-example: touch-pad.examples/dropdown/TZQCpS37p6PxRpc44EhMDX395AA -->\n\n\n<h3 id=\"-_disabled-\">Неактивен <code>_disabled</code></h3>\n<p>В состоянии &quot;неактивен&quot; дропдаун отображается, но недоступен для действий пользователя.</p>\n<p>Для такого блока не будет устанавливаться состояние <code>_opened</code> при щелчке мышью по управляющему компоненту.</p>\n<p>При установке для блока модификатора <code>_disabled</code> для компонентов блока не будут производиться следующие действия:</p>\n<ul>\n<li>Блок </code>popup – установка модификатора <code>_visible</code>;</li>\n<li>Управляющий компонент <code>link</code> – установка состояния <code>_focused</code>. Ссылка не получает фокус по щелчку мышью или по нажатию клавиши <code>Tab</code>;</li>\n<li>Управляющий компонент <code>button</code>:<ul>\n<li>установка состояния <code>_focused</code>. Кнопка не получает фокус по щелчку мышью или по нажатию клавиши <code>Tab</code>;</li>\n<li>установка состояния <code>_hovered</code> при наведении указателем мыши.</li>\n</ul>\n</li>\n</ul>\n<p>Модификатор реализован во всех темах блока.</p>\n<!-- bem-example: touch-pad.examples/dropdown/T2LPHF5xz8GwGt4VOGdjyOJF_lA -->\n\n\n<h3 id=\"-\">Состояния блока</h3>\n<h4 id=\"-_opened-\">Открыт <code>_opened</code></h4>\n<p>Модификатор <code>_opened</code> в значении <code>true</code> автоматически выставляется блоку при щелчке мышью по управляющему компоненту блока.</p>\n<!-- bem-example: touch-pad.examples/dropdown/ZBE6qMuVVtpA4JVJk1Z0eHxMx2Y -->\n\n\n<p>Модификатор снимается при повторном щелчке мышью по управляющему компоненту или за пределами попапа (зависит от наличия модификатора <code>_autoclosable</code> блока <code>popup</code>).</p>\n<h2 id=\"bemjson-switcher-popup-\">BEMJSON в атрибутах <code>switcher</code> и <code>popup</code></h2>\n<p>Атрибуты управляющего компонента и попапа могут содержать фрагмент БЭМ-дерева, например, если нужно обернуть управляющий компонент в другой блок или передать ему дополнительные параметры.</p>\n<p>Например, можно сделать кнопку управляющего компонента &quot;залипающей&quot;:</p>\n<!-- bem-example: touch-pad.examples/dropdown/8Fm0DE_2FJy1NDrA8TqWefQAcRg -->\n\n\n<p>Или создать на основе блока выпадающий селект:</p>\n<!-- bem-example: touch-pad.examples/dropdown/vkuviqNPhqQ2uV_ZhFfhVegfskc -->\n\n\n<h2 id=\"-\">Зависимости блока</h2>\n<p>Блок <code>dropdown</code> зависит от следующего набора блоков и элементов:</p>\n<ul>\n<li><code>i-bem__dom</code></li>\n<li><code>dom</code></li>\n<li><code>popup</code></li>\n<li><code>button</code>/<code>link</code> (в зависимости от управляющего компонента <code>_switcher</code>)</li>\n</ul>\n\n<h1 id=\"popup\">popup</h1>\n<p>Блок <code>popup</code> используется для создания выпадающих элементов и позволяет изменять их состояние, поведение и внешний вид. Блок отображается поверх остальных элементов страницы.</p>\n<p>Попап может быть вызван различными элементами страницы, например, кнопками или псевдоссылками.</p>\n<p>В момент первого показа (установка модификатора <code>_visible</code>) DOM-элемент блока создается в конце <code>&lt;body&gt;</code>.</p>\n<h2 id=\"-\">Модификаторы блока</h2>\n<h3 id=\"-_theme-\">Темы блока <code>_theme</code></h3>\n<p>Блок представлен в следующих темах:</p>\n<ul>\n<li>simple</li>\n<li>normal</li>\n</ul>\n<p>Без указания темы к блоку применяются значения по умолчанию (<em>default</em>), установленные браузером.</p>\n<p>Наглядно видно на примерах ниже:</p>\n<h4 id=\"default\">default</h4>\n<!-- bem-example: touch-pad.examples/dropdown/Uhdsvnf2MsxKNrQy7w6uLKTxdek -->\n\n\n<h4 id=\"simple\">simple</h4>\n<!-- bem-example: touch-pad.examples/dropdown/7PzT7oA6awlAKgFGXccAdhfz0n0 -->\n\n\n<h4 id=\"normal\">normal</h4>\n<!-- bem-example: touch-pad.examples/dropdown/L1MMDUGHLM4djlDaj5mhiKHvDH8 -->\n\n\n<h3 id=\"-_visible-\">Видимый <code>_visible</code></h3>\n<p>Модификатор, отвечающий за видимость блока. При значении модификатора <code>false</code> блок не отображается.</p>\n<!-- bem-example: touch-pad.examples/dropdown/m6WdfiXJP4RkxnBzEuzumr9C4w0 -->\n\n\n<h3 id=\"-_direction-\">Расположение относительно родителя <code>_direction</code></h3>\n<p>Модификатор управляет положением попапа на странице относительно вызвавшего его блока. Расположение блока определяется автоматически, исходя из массива допустимых расположений и положения родителя на странице.</p>\n<p>Выбранное расположение влияет на направление анимации раскрытия.</p>\n<p>По умолчанию используется следующий массив допустимых расположений:</p>\n<table>\n    <tr>\n        <th> Направление раскрытия </td>\n        <th> Индекс в массиве </td>\n    </tr>\n        <td> bottom-left </td>\n        <td> 0 </td>\n    </tr>\n    <tr>\n        <td> bottom-center </td>\n       <td> 1 </td>\n   </tr>\n    <tr>\n        <td> bottom-right</td>\n        <td> 2 </td>\n    </tr>\n    <tr>\n        <td> top-left </td>\n        <td> 3 </td>\n    </tr>\n    <tr>\n        <td> top-center </td>\n        <td> 4 </td>\n    </tr>\n    <tr>\n        <td> top-right </td>\n        <td> 5 </td>\n    </tr>\n    <tr>\n        <td> right-top </td>\n        <td> 6 </td>\n    </tr>\n    <tr>\n        <td> right-center </td>\n        <td> 7 </td>\n    </tr>\n    <tr>\n        <td> right-bottom </td>\n        <td> 8 </td>\n    </tr>\n    <tr>\n        <td> left-top </td>\n        <td> 9 </td>\n    </tr>\n    <tr>\n        <td> left-center </td>\n        <td> 10 </td>\n    </tr>\n    <tr>\n        <td> left-bottom </td>\n        <td> 11 </td>\n    </tr>\n</table>\n\n<p>Чтобы управлять расположением попапа, можно ограничить массив расположений, оставив только требуемые. Пользовательский массив нужно передать в качестве JS-параметра с ключом <code>directions</code>. При этом из значений массива будет выбрано наиболее подходящее, исходя из положения родителя на странице.</p>\n<p>Например, если требуется, чтобы попап раскрывался над родителем:</p>\n<!-- bem-example: touch-pad.examples/dropdown/ROJZHxrl71CFbWiWU5Ry_Q0Jbhw -->\n\n\n<p>Или разместить попап справа по центру:</p>\n<!-- bem-example: touch-pad.examples/dropdown/VE0JWgs-I2gVU8suKC3_eTK29EE -->\n\n\n<h3 id=\"-_autoclosable-\">Автоматическое скрытие <code>_autoclosable</code></h3>\n<p>Модификатор отвечает за автоматическое скрытие попапа при клике вне блока. При установке модификатора <code>_autoclosable</code> в значении <code>_true</code> блок будет скрываться при щелчке за его пределами (будет снят модификатор <code>_visible</code>).</p>\n<!-- bem-example: touch-pad.examples/dropdown/M1T2dIuSVeBoluZEMgCmA90Stgc -->\n\n\n<h2 id=\"-popup-\">Взаимосвязи между popup&#39;ами</h2>\n<p>Так как попап выносит себя в конец <code>&lt;body&gt;</code>, чтобы перекрывать другие элементы страницы, возникает необходимость в построении взаимосвязей. Блок умеет выстраивать связи Parent → [ Child, Child, ... ]. Для этого он выполняет проверку, вложен ли блок, вызывающий попап в другой <code>popup</code>. Потомки знают о наличии родителя.\nЕсли бы этих взаимосвязей не было, то родительский попап (при наличии модификатора <code>autoclosable</code> со значением <code>true</code>) закрылся бы при клике внутри дочернего.</p>\n<p>Другими словами модификатор <code>autoclosable</code> со значением <code>true</code> означает, что попап закроется сам и закроет свои дочерние блоки при клике за пределами его самого и дочерних попапов.</p>\n<p>Дочерние блоки popup можно рассматривать в виде цепочки 1 → 2 → 3 → 4. При клике на втором попапе – закрываются третий и четвертый. При клике в первом – закрываются второй, третий, четвертый. При клике за пределами любого попапа из цепочки – закроются все.</p>\n<h3 id=\"-\">Зависимости блока</h3>\n<p>Блок <code>popup</code> зависит от следующего набора блоков и элементов:</p>\n<ul>\n<li><code>i-bem__dom</code></li>\n<li><code>jquery</code></li>\n<li><code>dom</code></li>\n<li><code>objects</code></li>\n<li><code>functions__throttle</code></li>\n<li><code>keyboard</code></li>\n<li><code>ua</code></li>\n<li><code>jquery__event_pointer</code></li>\n</ul>\n"},"en":{"name":"dropdown","examples":[{"url":"touch-pad.tests/dropdown/gemini"},{"url":"touch-pad.tests/dropdown/simple"}],"description":"<h1 id=\"dropdown\">dropdown</h1>\n<p>A <code>dropdown</code> block is used to create different types of dropdowns.  It allows to manage state, behavior and appearance of dropdowns. Block consist of two components – the control component and the popup window (<code>popup</code> block). Popup window is displayed in front of all other page elements.</p>\n<p>On mouse click over control component it shows the popup window (toggles <code>_visible</code> modifier for the <code>popup</code> block).</p>\n<p>Depending on a <code>_switcher</code> modifier value, either link, pseudo link or button can be used as a control component.</p>\n<h2 id=\"valid-block-s-attributes\">Valid block&#39;s attributes</h2>\n<p>Valid block&#39;s attributes can be specified in a corresponding fields of block&#39;s BEMJSON declaration:</p>\n<table>\n    <tr>\n        <th align=\"center\">Attributes</th>\n        <th align=\"center\">Type</th>\n        <th align=\"center\">Description</th>\n    </tr>\n    <tr>\n        <td>switcher</td>\n        <td><code>String|BEMJSON</code></td>\n        <td>Label for the control component. May contain a string with the text label or BEMJSON notation of nested BEM-entities. For example, it allows to wrap the control component with other block or pass it an additional attribute values.</td>\n    </tr>\n       <tr>\n        <td>popup</td>\n        <td><code>String|BEMJSON</code></td>\n        <td>Text value or BEMJSON description of popup window content. In runtime BEMJSON entities will be rendered into HTML.</td>\n    </tr>\n</table>\n\n<p>Also, BEMJSON declaration can contain an arbitrary fields used for templating.</p>\n<h2 id=\"block-s-modifiers\">Block&#39;s modifiers</h2>\n<h3 id=\"the-themes-_theme-\">The themes <code>_theme</code></h3>\n<ul>\n<li>simple</li>\n<li>normal</li>\n</ul>\n<p>If a <code>_theme</code> modifier is not set, the browser defaults (<code>default</code>) will be applied to block.</p>\n<h4 id=\"default\">default</h4>\n<!-- bem-example: touch-pad.examples/dropdown/WcgFmT2l-N83y2w6hRJ-qqSpzkY -->\n\n\n<h4 id=\"simple\">simple</h4>\n<!-- bem-example: touch-pad.examples/dropdown/3LxBJkGCYdsRIM3jgENaGnBRRuI -->\n\n\n<h4 id=\"normal\">normal</h4>\n<!-- bem-example: touch-pad.examples/dropdown/7xwP-2BJ2nd_leTd5MyNfCK8-wA -->\n\n\n<h3 id=\"control-component-type-_switcher-\">Control component type <code>_switcher</code></h3>\n<p>Mandatory modifier. It specifies which block to use as a control component. Next types are available:</p>\n<ul>\n<li><code>_switcher_link</code> - the pseudo link. <code>link</code> block is used as a base of the control component. </li>\n<li><code>_switcher_button</code> - the button. <code>button</code> block is used as a base of the control component. </li>\n</ul>\n<p>Available for all block themes.</p>\n<!-- bem-example: touch-pad.examples/dropdown/TZQCpS37p6PxRpc44EhMDX395AA -->\n\n\n<h3 id=\"-_disabled-\"><code>_disabled</code></h3>\n<p>If a <code>_disabled</code> modifier is set, the dropdown is displayed but not available for user&#39;s actions.</p>\n<p>For such disabled block an <code>_opened</code> state will not be toggled on mouse click.</p>\n<p>If a <code>_disabled</code> modifier set, it prevents the block components from the following actions:</p>\n<ul>\n<li><code>popup</code> block – <code>_visible</code> modifier toggle;</li>\n<li><code>link</code> control component – <code>_focused</code> state toggle. Link does not obtain focus on mouse click or by <code>Tab</code> key press;</li>\n<li><code>button</code> control component:<ul>\n<li><code>_focused</code> state toggle. Button will not obtain focus on mouse click or by <code>Tab</code> key press;</li>\n<li><code>_hovered</code> state toggle on mouse pointer hover.</li>\n</ul>\n</li>\n</ul>\n<p>Available for all block themes.</p>\n<!-- bem-example: touch-pad.examples/dropdown/T2LPHF5xz8GwGt4VOGdjyOJF_lA -->\n\n\n<h3 id=\"dropdown-s-states\">dropdown&#39;s states</h3>\n<h4 id=\"-_opened-\"><code>_opened</code></h4>\n<p><code>_opened</code> modifier toggles automatically on mouse click on the control component.</p>\n<!-- bem-example: touch-pad.examples/dropdown/ZBE6qMuVVtpA4JVJk1Z0eHxMx2Y -->\n\n\n<p>Modifier can be removed by re-clicking on the control component or outside popup&#39;s window (in case of <code>_autoclosable</code> modifier availability for <code>popup</code> block).</p>\n<h2 id=\"bemjson-value-of-switcher-and-popup-attributes\">BEMJSON value of <code>switcher</code> and <code>popup</code> attributes</h2>\n<p>As the control component and the popup attributes can contain BEM-entities it can be used for different purposes such as:</p>\n<ul>\n<li>control component warping or modifying;</li>\n<li>passing additional attribute values to control component;</li>\n<li>creating nested content in popup window.</li>\n</ul>\n<p>For example, you can make a control component&#39;s button toggleable:</p>\n<!-- bem-example: touch-pad.examples/dropdown/8Fm0DE_2FJy1NDrA8TqWefQAcRg -->\n\n\n<p>Or make dropdown list selector based on block:</p>\n<!-- bem-example: touch-pad.examples/dropdown/vkuviqNPhqQ2uV_ZhFfhVegfskc -->\n\n\n<h2 id=\"dependencies\">Dependencies</h2>\n<p>The <code>dropdown</code> block depends on:</p>\n<ul>\n<li><code>i-bem__dom</code></li>\n<li><code>dom</code></li>\n<li><code>popup</code></li>\n<li><code>button</code>/<code>link</code> (depending on <code>_switcher</code> control component type)</li>\n</ul>\n\n<h1 id=\"popup\">popup</h1>\n<p>A <code>popup</code> block is used for popups creation. It allows to manage state, behavior and appearance of popups. Block is displayed in front of all other page elements.</p>\n<p>Popup can be displayed by different page elements like pseudo links or buttons.</p>\n<p>At the moment of first display (<code>_visible</code> modifier toggle) block&#39;s DOM element is created in the end of document <code>&lt;body&gt;</code>.</p>\n<h2 id=\"block-s-modifiers\">Block&#39;s modifiers</h2>\n<h3 id=\"the-themes-_theme-\">The themes <code>_theme</code></h3>\n<ul>\n<li>simple</li>\n<li>normal</li>\n</ul>\n<p>If a <code>_theme</code> modifier is not set, browser defaults (<code>default</code>) will be applied to block.</p>\n<h4 id=\"default\">default</h4>\n<!-- bem-example: touch-pad.examples/dropdown/Uhdsvnf2MsxKNrQy7w6uLKTxdek -->\n\n\n<h4 id=\"simple\">simple</h4>\n<!-- bem-example: touch-pad.examples/dropdown/7PzT7oA6awlAKgFGXccAdhfz0n0 -->\n\n\n<h4 id=\"normal\">normal</h4>\n<!-- bem-example: touch-pad.examples/dropdown/L1MMDUGHLM4djlDaj5mhiKHvDH8 -->\n\n<h3 id=\"visibility-_visible-\">Visibility <code>_visible</code></h3>\n<p>A <code>_visible</code> modifier allow to control block visibility. If it&#39;s not set, block will not be displayed.</p>\n<!-- bem-example: touch-pad.examples/dropdown/m6WdfiXJP4RkxnBzEuzumr9C4w0 -->\n\n\n<h3 id=\"alignment-respect-to-its-parent-_direction-\">Alignment respect to its parent <code>_direction</code></h3>\n<p>Modifier controls the position of popup window relative to the block which opened it – popup&#39;s alignment. Popup window&#39;s position is detected automatically basing on the admissible directions array and the parent block&#39;s position.</p>\n<p>Chosen alignment will affect the opening animation direction.</p>\n<p>By default following admissible directions array is used:</p>\n<table>\n    <tr>\n        <th> Direction </td>\n        <th> Index in array </td>\n    </tr>\n        <td> bottom-left </td>\n        <td> 0 </td>\n    </tr>\n    <tr>\n        <td> bottom-center </td>\n       <td> 1 </td>\n   </tr>\n    <tr>\n        <td> bottom-right</td>\n        <td> 2 </td>\n    </tr>\n    <tr>\n        <td> top-left </td>\n        <td> 3 </td>\n    </tr>\n    <tr>\n        <td> top-center </td>\n        <td> 4 </td>\n    </tr>\n    <tr>\n        <td> top-right </td>\n        <td> 5 </td>\n    </tr>\n    <tr>\n        <td> right-top </td>\n        <td> 6 </td>\n    </tr>\n    <tr>\n        <td> right-center </td>\n        <td> 7 </td>\n    </tr>\n    <tr>\n        <td> right-bottom </td>\n        <td> 8 </td>\n    </tr>\n    <tr>\n        <td> left-top </td>\n        <td> 9 </td>\n    </tr>\n    <tr>\n        <td> left-center </td>\n        <td> 10 </td>\n    </tr>\n    <tr>\n        <td> left-bottom </td>\n        <td> 11 </td>\n    </tr>\n</table>\n\n<p>To control the popup window position you can provide directions array with desired directions set only. According to parent block&#39;s position on a page the most suitable directions will be chosen among the provided values.</p>\n<p>For example, if the popup window should be opened at the top of the parent block:</p>\n<!-- bem-example: touch-pad.examples/dropdown/ROJZHxrl71CFbWiWU5Ry_Q0Jbhw -->\n\n\n<p>Or if it should be opened strictly at the center-right position:</p>\n<!-- bem-example: touch-pad.examples/dropdown/VE0JWgs-I2gVU8suKC3_eTK29EE -->\n\n\n<h3 id=\"automatic-closure-_autoclosable-\">Automatic closure  <code>_autoclosable</code></h3>\n<p>With <code>_autoclosable</code> modifier toggled block will automatically hide away on mouse click outside popup window (<code>_visible</code> modifier will be removed).</p>\n<!-- bem-example: touch-pad.examples/dropdown/M1T2dIuSVeBoluZEMgCmA90Stgc -->\n\n\n<h2 id=\"relations-between-popup-s\">Relations between popup&#39;s</h2>\n<p>As long as popup&#39;s parent block itself can be nested in another popup block there is a need in a popup&#39;s relations handling. Block can handle Parent → [ Child, Child, ... ] relations by checking if the parent block is nested in another popup block. So, the children knows about the parent blocks existence.</p>\n<p>If there were no such relations, the parent popup block will be closed on mouse click on the child block regardless of the fact that <code>_autoclosable</code> modifier is set to <code>true</code>.</p>\n<p>This means that with <code>autoclosable</code> modifier toggled block will close itself and close all of it children on mouse click outside block&#39;s window or it child&#39;s window.</p>\n<p>Child popup blocks can be regarded as a chain of 1 → 2 → 3 → 4. By clicking on the second element of chain, third and forth will be closed. By clicking on first, the second, third and forth will be closed. On click outside of any popup window of the chain element all popups will be closed.</p>\n<h2 id=\"dependencies\">Dependencies</h2>\n<p>The block depends on:</p>\n<ul>\n<li><code>i-bem__dom</code></li>\n<li><code>jquery</code></li>\n<li><code>dom</code></li>\n<li><code>objects</code></li>\n<li><code>functions__throttle</code></li>\n<li><code>keyboard</code></li>\n<li><code>ua</code></li>\n<li><code>jquery__event_pointer</code></li>\n</ul>\n"}}