<!doctype html><html class="page__root"><head><meta charset="utf-8"/><title></title><link rel="stylesheet" href="../.dist/dist.css"/><script src="//yandex.st/jquery/1.8.2/jquery.min.js"></script><script src="../.dist/dist.js"></script></head><body class="page"><div class="catalogue"><div class="block"><div class="header"><a class="link link_pos_right" href="../index/index.html">← каталог</a><span class="header__block-name">Блок popup</span></div><div class="block__title"></div><div class="block__description static-text"><h1 id="popup">popup</h1>
<p>Блок <strong>popup</strong> используется для создания выпадающих элементов и позволяет изменять их состояние, поведение и внешний вид. Блок отображается поверх остальных элементов страницы.</p>
<p>Попап может быть вызван различными элементами страницы, например, иконками или псевдо-ссылками.</p>
<p>В момент показа блок выносит себя в конец <code>&lt;body&gt;</code>.</p>
<h2 id="-">Модификаторы блока</h2>
<h3 id="-_theme-">Темы блока <code>_theme</code></h3>
<p>Блок представлен в следующих темах:</p>
<ul>
<li>simple   </li>
<li>normal  </li>
</ul>
<p>Без указания темы к блоку применяются значения по умолчанию (<em>default</em>), установленные браузером. </p>
<p>Наглядно видно на примерах ниже:</p>
<h4 id="default">default</h4>
<pre><code class="lang-bemjson">    {
        block : &#39;popup&#39;, 
        content : &#39;default&#39; 
    }
</code></pre>
<h4 id="simple">simple</h4>
<pre><code class="lang-bemjson">    {
        block : &#39;popup&#39;,
        mods : { theme : &#39;simple&#39; },
        content : &#39;simple&#39;
    }
</code></pre>
<h4 id="normal">normal</h4>
<pre><code class="lang-bemjson">    {
        block : &#39;popup&#39;,
        mods : { theme : &#39;normal&#39; },
        content : &#39;normal&#39;
    }
</code></pre>
<h3 id="-_visible-">Видимый <code>_visible</code></h3>
<p>Модификатор, отвечающий за видимость блока. При значении модификатора <code>false</code> блок не отображается. </p>
<p>Реализован во всех темах:</p>
<h4 id="default">default</h4>
<pre><code class="lang-bemjson">    {
        block : &#39;popup&#39;, 
        mods : { visible : true },
        content : &#39;default&#39;
    }
</code></pre>
<h4 id="simple">simple</h4>
<pre><code class="lang-bemjson">    {
        block : &#39;popup&#39;,
        mods : { theme : &#39;simple&#39;, visible : true },
        content : &#39;simple&#39;
    }
</code></pre>
<h4 id="normal">normal</h4>
<pre><code class="lang-bemjson">    {
        block : &#39;popup&#39;,
        mods : { theme : &#39;normal&#39;, visible : true },
        content : &#39;normal&#39;
    }
</code></pre>
<h3 id="-_direction-">Выравнивание относительно родителя <code>_direction</code></h3>
<p>Модификатор задает направление выравнивания относительно блока, вызвавшего попапа. Выравнивание определяется автаматически, исходя из массива допустимых направлений выравнивания и положения родителя на странице.</p>
<p>Выравнивание влияет на направление анимации раскрытия.</p>
<p>По умолчанию используется следующий массив направлений выравнивания:</p>
<table>
    <tr>
        <th> Направление раскрытия </td>
        <th> Индекс в массиве </td>
    </tr>
        <td> bottom-left </td>
        <td> 0 </td>
    </tr>
    <tr>
        <td> bottom-center </td>
       <td> 1 </td>
   </tr>
    <tr>
        <td> bottom-right</td>
        <td> 2 </td>
    </tr>
    <tr>
        <td> top-left </td>
        <td> 3 </td>
    </tr>
    <tr>
        <td> top-center </td>
        <td> 4 </td>
    </tr>
    <tr>
        <td> top-right </td>
        <td> 5 </td>
    </tr>
    <tr>
        <td> right-top </td>
        <td> 6 </td><br>    </tr>
    <tr>
        <td> right-center </td>
        <td> 7 </td>
    </tr>
    <tr>
        <td> right-bottom </td>
        <td> 8 </td>
    </tr>
    <tr>
        <td> left-top </td>
        <td> 9 </td>
    </tr>
    <tr>
        <td> left-center </td>
        <td> 10 </td>
    </tr>
    <tr>
        <td> left-bottom </td>
        <td> 11 </td>
    </tr>
</table>

<p>Чтобы управлять направлением выравнивания попапа нужно ограничить массив направлений, оставив только нужные. Пользовательский массив направлений нужно передать в качестве JS-параметра с ключом <code>directions</code>.</p>
<p>Например, если нужно, чтобы попап раскрывался над родителем:</p>
<pre><code class="lang-bemjson">    {
        block : &#39;popup&#39;,
        mods : { autoclosable : true, theme: &#39;simple&#39; },
        js : { directions : [&#39;right-top&#39;, &#39;right-center&#39;, &#39;right-bottom&#39;] },
        content : &#39;Hello, world!&#39;
    }
</code></pre>
<p>Или разместить попап справа по центру:</p>
<pre><code class="lang-bemjson">    {
        block : &#39;popup&#39;,
        mods : { autoclosable : true, theme: &#39;simple&#39; },
        js : { directions : [&#39;right-center&#39;] },
        content : &#39;Hello, world!&#39;
    }
</code></pre>
<h3 id="-_autoclosable-">Автоматическое скрытие <code>_autoclosable</code></h3>
<p>Модификатор отвечает за автоматическое закрытие попапа при клике вне блока. При значении модификатора <code>_autoclosable_true</code> блок будет закрываться при щелчке за его пределами (будет снят модификатор <code>_visible_true</code>).</p>
<p>Кроме того, если модификатор установлен, блок будет автоматически закрываться во время скролла. </p>
<p>Реализован во всех темах:</p>
<h4 id="default">default</h4>
<pre><code class="lang-bemjson">    {
        block : &#39;popup&#39;, 
        mods : { autoclosable : true },
        content : &#39;default&#39;
    }
</code></pre>
<h4 id="simple">simple</h4>
<pre><code class="lang-bemjson">    {
        block : &#39;popup&#39;,
        mods : { theme : &#39;simple&#39;, autoclosable : true },
        content : &#39;simple&#39;
    }
</code></pre>
<h4 id="normal">normal</h4>
<pre><code class="lang-bemjson">    {
        block : &#39;popup&#39;,
        mods : { theme : &#39;normal&#39;, autoclosable : true },
        content : &#39;normal&#39;
    }
</code></pre>
<h2 id="-popup-">Взаимосвязи между popup&#39;ами</h2>
<p>Так как попап выносит себя в конец <code>&lt;body&gt;</code>, чтобы перекрывать другие элементы страницы, возникает необходимость в построении взаимосвязей. Блок умеет выстраивать связи Parent → [ Child, Child, ... ]. Для этого он выполняет проверку, вложен ли блок, вызывающий попап в другой <code>popup</code>. Потомки знают о наличии родителя. 
Если бы этих взаимосвязей не было, то родительский попап (при наличии модификатора <code>autoclosable</code> со значением <code>true</code>) закрылся при клике внутри дочернего.</p>
<p>Другими словами, модификатор <code>autoclosable</code> со значением <code>true</code> означает, что попап закроется сам и закроет свои дочерние блоки при клике за пределами его самого и дочерних попапов. </p>
<p>Дочерние блоки popup можно рассматривать в виде цепочки 1 → 2 → 3 → 4. При клике на 2-ом попапе – закрываются 3, 4. При клике в 1 – закрываются 2, 3, 4. При клике за пределами любого попапа из цепочки – закроются все.</p>
<h3 id="-">Зависимости блока</h3>
<p>Блок <code>popup</code> зависит от следующего набора блоков:</p>
<ul>
<li>i-bem__dom </li>
<li>jquery</li>
<li>dom</li>
<li>objects</li>
<li>functions__throttle</li>
</ul>
</div><div class="block__examples"><div class="example i-bem" onclick="return {&quot;example&quot;:{}}" id="popup:examples:destruct:_destruct:ru"><a class="example__title" href="popup.examples/destruct/_destruct.ru.html" target="_blank"></a><div class="example__source-switch"><span class="link link_pseudo_yes cut">Исходный код</span></div><iframe class="example__source" src="popup.examples/destruct/_destruct.ru.bemjson.js"></iframe><iframe class="example__live" src="popup.examples/destruct/_destruct.ru.html"></iframe></div><div class="example i-bem" onclick="return {&quot;example&quot;:{}}" id="popup:examples:horiz-scroll:_horiz-scroll:ru"><a class="example__title" href="popup.examples/horiz-scroll/_horiz-scroll.ru.html" target="_blank"></a><div class="example__source-switch"><span class="link link_pseudo_yes cut">Исходный код</span></div><iframe class="example__source" src="popup.examples/horiz-scroll/_horiz-scroll.ru.bemjson.js"></iframe><iframe class="example__live" src="popup.examples/horiz-scroll/_horiz-scroll.ru.html"></iframe></div><div class="example i-bem" onclick="return {&quot;example&quot;:{}}" id="popup:examples:nested:_nested:ru"><a class="example__title" href="popup.examples/nested/_nested.ru.html" target="_blank"></a><div class="example__source-switch"><span class="link link_pseudo_yes cut">Исходный код</span></div><iframe class="example__source" src="popup.examples/nested/_nested.ru.bemjson.js"></iframe><iframe class="example__live" src="popup.examples/nested/_nested.ru.html"></iframe></div><div class="example i-bem" onclick="return {&quot;example&quot;:{}}" id="popup:examples:simple:_simple:ru"><a class="example__title" href="popup.examples/simple/_simple.ru.html" target="_blank"></a><div class="example__source-switch"><span class="link link_pseudo_yes cut">Исходный код</span></div><iframe class="example__source" src="popup.examples/simple/_simple.ru.bemjson.js"></iframe><iframe class="example__live" src="popup.examples/simple/_simple.ru.html"></iframe></div><div class="example i-bem" onclick="return {&quot;example&quot;:{}}" id="popup:examples:vert-scroll:_vert-scroll:ru"><a class="example__title" href="popup.examples/vert-scroll/_vert-scroll.ru.html" target="_blank"></a><div class="example__source-switch"><span class="link link_pseudo_yes cut">Исходный код</span></div><iframe class="example__source" src="popup.examples/vert-scroll/_vert-scroll.ru.bemjson.js"></iframe><iframe class="example__live" src="popup.examples/vert-scroll/_vert-scroll.ru.html"></iframe></div></div></div></div></body></html>