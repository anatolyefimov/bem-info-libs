<!doctype html><html class="page__root"><head><meta charset="utf-8"/><title></title><link rel="stylesheet" href="../.dist/dist.css"/><script src="//yandex.st/jquery/1.8.2/jquery.min.js"></script><script src="../.dist/dist.js"></script></head><body class="page"><div class="catalogue"><div class="block"><div class="header"><a class="link link_pos_right" href="../index/index.html">← каталог</a><span class="header__block-name">Блок model</span></div><div class="block__title"></div><div class="block__description static-text"><h2 id="__constructor-modelparams-modelparams-name-modelparams-id-modelparams-parentname-modelparams-parentpath-modelparams-parentmodel-data-">__constructor(modelParams, modelParams.name, [modelParams.id], [modelParams.parentName], [modelParams.parentPath], [modelParams.parentModel], [data])</h2>
<p><strong>Parameters</strong></p>
<p><strong>modelParams</strong>:  <em>String|Object</em>,  параметры модели</p>
<p><strong>modelParams.name</strong>:  <em>String</em>,  имя модели</p>
<p><strong>[modelParams.id]</strong>:  <em>String|Number</em>,  идентификатор модели</p>
<p><strong>[modelParams.parentName]</strong>:  <em>String</em>,  имя родительской модели</p>
<p><strong>[modelParams.parentPath]</strong>:  <em>String</em>,  путь родительской модели</p>
<p><strong>[modelParams.parentModel]</strong>:  <em>Object</em>,  экземпляр родительской модели</p>
<p><strong>[data]</strong>:  <em>Object</em>,  данные для инициализации полей модели</p>
<h2 id="path-">path()</h2>
<p>Возвращает путь модели</p>
<h2 id="_initfields-data-">_initFields(data)</h2>
<p>Инициализирует поля модели</p>
<p><strong>Parameters</strong></p>
<p><strong>data</strong>:  <em>Object</em>,  данные для инициализации полей модели</p>
<h2 id="_calcdependsto-name-opts-">_calcDependsTo(name, opts)</h2>
<p>Вычиляет заначения зависимых полей</p>
<p><strong>Parameters</strong></p>
<p><strong>name</strong>:  <em>String</em>,  имя поля</p>
<p><strong>opts</strong>:  <em>Object</em>,  дополнительные парметры доступные в обработчиках событий</p>
<h2 id="get-name-type-">get(name, [type])</h2>
<p>Возвращает значение поля</p>
<p><strong>Parameters</strong></p>
<p><strong>name</strong>:  <em>String</em>,  </p>
<p><strong>[type]</strong>:  <em>String</em>,  формат предтавления значения. по умолчанию вызывается get, либо raw/formatted</p>
<h2 id="set-name-value-opts-">set(name, value, [opts])</h2>
<p>Задает значение полю модели</p>
<p><strong>Parameters</strong></p>
<p><strong>name</strong>:  <em>String</em>,  имя поля</p>
<p><strong>value</strong>:  <em>*</em>,  значение</p>
<p><strong>[opts]</strong>:  <em>Object</em>,  дополнительные парметры доступные в обработчиках событий change</p>
<h2 id="clear-name-opts-">clear([name], [opts])</h2>
<p>Очищает поля модели</p>
<p><strong>Parameters</strong></p>
<p><strong>[name]</strong>:  <em>String</em>,  имя поля</p>
<p><strong>[opts]</strong>:  <em>Object</em>,  дополнительные парметры доступные в обработчиках событий change</p>
<h2 id="update-data-opts-">update(data, [opts])</h2>
<p>Задает поля модели по данным из объекта, генерирует событие update на модели</p>
<p><strong>Parameters</strong></p>
<p><strong>data</strong>:  <em>Object</em>,  данные устанавливаемые в модели</p>
<p><strong>[opts]</strong>:  <em>Object</em>,  доп. параметры</p>
<h2 id="hasfield-name-">hasField(name)</h2>
<p>Проверяет наличие поля у модели</p>
<p><strong>Parameters</strong></p>
<p><strong>name</strong>:  <em>String</em>,  имя поля</p>
<h2 id="isempty-name-">isEmpty([name])</h2>
<p>Проверяет поле или всю модель на пустоту</p>
<p><strong>Parameters</strong></p>
<p><strong>[name]</strong>:  <em>String</em>,  </p>
<h2 id="ischanged-name-">isChanged([name])</h2>
<p>Проверяет, изменилось ли значение поля или любого из полей с момента последней фиксации</p>
<p><strong>Parameters</strong></p>
<p><strong>[name]</strong>:  <em>String</em>,  имя поля</p>
<h2 id="gettype-name-">getType(name)</h2>
<p>Возвращает тип поля</p>
<p><strong>Parameters</strong></p>
<p><strong>name</strong>:  <em>String</em>,  имя поля</p>
<h2 id="fix-opts-">fix([opts])</h2>
<p>Кеширует значения полей модели, генерирует событие fix на модели</p>
<p><strong>Parameters</strong></p>
<p><strong>[opts]</strong>:  <em>Object</em>,  доп. параметры</p>
<h2 id="rollback-opts-">rollback([opts])</h2>
<p>Восстанавливает значения полей модели из кеша, генерирует событие update на модели</p>
<p><strong>Parameters</strong></p>
<p><strong>[opts]</strong>:  <em>Object</em>,  доп. параметры</p>
<h2 id="tojson-">toJSON()</h2>
<p>Возвращает объект с данными модели</p>
<h2 id="on-field-e-data-fn-ctx-">on([field], e, [data], fn, ctx)</h2>
<p>Назначает обработчик события на модель или поле модели</p>
<p><strong>Parameters</strong></p>
<p><strong>[field]</strong>:  <em>String</em>,  имя поля</p>
<p><strong>e</strong>:  <em>String</em>,  имя события</p>
<p><strong>[data]</strong>:  <em>Object</em>,  дополнительные данные события</p>
<p><strong>fn</strong>:  <em>Function</em>,  обработчик события</p>
<p><strong>ctx</strong>:  <em>Object</em>,  контекст вызова обработчика</p>
<h2 id="un-field-e-fn-ctx-">un([field], e, fn, ctx)</h2>
<p>Удаляет обработчик события с модели или поля модели</p>
<p><strong>Parameters</strong></p>
<p><strong>[field]</strong>:  <em>String</em>,  имя поля</p>
<p><strong>e</strong>:  <em>String</em>,  имя события</p>
<p><strong>fn</strong>:  <em>Function</em>,  обработчик события</p>
<p><strong>ctx</strong>:  <em>Object</em>,  контекст вызова обработчика</p>
<h2 id="trigger-field-e-data-">trigger([field], e, [data])</h2>
<p>Тригерит обработчик события на модели или поле модели</p>
<p><strong>Parameters</strong></p>
<p><strong>[field]</strong>:  <em>String</em>,  имя поля</p>
<p><strong>e</strong>:  <em>String</em>,  имя события</p>
<p><strong>[data]</strong>,  данные доступные в обработчике события</p>
<h2 id="_onfieldchange-name-opts-">_onFieldChange(name, opts)</h2>
<p>Тригерит (с декоратором $.throttle) событие change на модели при изменении полей</p>
<p><strong>Parameters</strong></p>
<p><strong>name</strong>:  <em>String</em>,  имя поля</p>
<p><strong>opts</strong>:  <em>Object</em>,  доп. параметры</p>
<h2 id="_firechange-opts-">_fireChange(opts)</h2>
<p>Сгенерировать событие change на модели</p>
<p><strong>Parameters</strong></p>
<p><strong>opts</strong>:  <em>Object</em>,  </p>
<h2 id="destruct-">destruct()</h2>
<p>Удаляет модель из хранилища</p>
<h2 id="isvalid-">isValid()</h2>
<p>Возвращает результат проверки модели на валидность</p>
<h2 id="validate-name-">validate([name])</h2>
<p>Проверяет модель на валидность, генерирует событие error с описанием ошибки(ок)</p>
<p><strong>Parameters</strong></p>
<p><strong>[name]</strong>:  <em>String</em>,  - имя поля</p>
<h2 id="decl-decl-decl-model-decl-name-decl-basemodel-staticprops-">decl(decl, decl.model|decl.name, [decl.baseModel], {{, staticProps)</h2>
<p>Декларирует описание модели
XXX: {String|Number},
XXX: {
{String} [type] тип поля
{Boolean} [internal] внутреннее поле
{<em>|Function} [default] дефолтное значение
{</em>|Function} [value] начанольное значение
{Object|Function} [validation] ф-ия конструктор объекта валидации или он сам
{Function} [format] ф-ия форматирования
{Function} [preprocess] ф-ия вызываемая до записи значения
{Function} [calculate] ф-ия вычисления значения, вызывается, если изменилось одно из связанных полей
{String|Array} [dependsFrom] массив от которых зависит значение поля
}
}} fields где ключ имя поля, значение строка с типом или объект вида</p>
<p><strong>Parameters</strong></p>
<p><strong>decl</strong>:  <em>String|Object</em>,  </p>
<p><strong>decl.model|decl.name</strong>:  <em>String</em>,  </p>
<p><strong>[decl.baseModel]</strong>:  <em>String</em>,  </p>
<p><strong>{{</strong>,  </p>
<p><strong>staticProps</strong>:  <em>Object</em>,  Статические методы и поля</p>
<h2 id="_builddeps-fielddecl-modelname-">_buildDeps(fieldDecl, modelName)</h2>
<p>Устанавливает связи между зависимыми полями</p>
<p><strong>Parameters</strong></p>
<p><strong>fieldDecl</strong>:  <em>Object</em>,  декларация полей</p>
<p><strong>modelName</strong>:  <em>String</em>,  имя модели</p>
<h2 id="create-modelparams-modelparams-name-modelparams-id-modelparams-parentname-modelparams-parentid-modelparams-parentpath-modelparams-parentmodel-data-">create(modelParams, modelParams.name, [modelParams.id], [modelParams.parentName], [modelParams.parentId], [modelParams.parentPath], [modelParams.parentModel], [data])</h2>
<p>Создает экземпляр модели</p>
<p><strong>Parameters</strong></p>
<p><strong>modelParams</strong>:  <em>String|Object</em>,  имя модели или параметры модели</p>
<p><strong>modelParams.name</strong>:  <em>String</em>,  имя модели</p>
<p><strong>[modelParams.id]</strong>:  <em>String|Number</em>,  идентификатор, если не указан, создается автоматически</p>
<p><strong>[modelParams.parentName]</strong>:  <em>String</em>,  имя родительской модели</p>
<p><strong>[modelParams.parentId]</strong>:  <em>String|Number</em>,  идентификатор родительской модели</p>
<p><strong>[modelParams.parentPath]</strong>:  <em>String</em>,  путь родительской модели</p>
<p><strong>[modelParams.parentModel]</strong>:  <em>Object</em>,  экземпляр родительской модели</p>
<p><strong>[data]</strong>:  <em>Object</em>,  данные, которыми будет проинициализирована модель</p>
<h2 id="get-modelparams-modelparams-name-modelparams-id-modelparams-path-modelparams-parentname-modelparams-parentid-modelparams-parentpath-modelparams-parentmodel-dropcache-">get(modelParams, modelParams.name, [modelParams.id], [modelParams.path], [modelParams.parentName], [modelParams.parentId], [modelParams.parentPath], [modelParams.parentModel], [dropCache])</h2>
<p>Возвращает экземляр или массив экземпляров моделей по имени и пути</p>
<p><strong>Parameters</strong></p>
<p><strong>modelParams</strong>:  <em>String|Object</em>,  имя модели или параметры модели</p>
<p><strong>modelParams.name</strong>:  <em>String</em>,  имя модели</p>
<p><strong>[modelParams.id]</strong>:  <em>String|Number</em>,  идентификатор, если не указан, создается автоматически</p>
<p><strong>[modelParams.path]</strong>:  <em>String</em>,  путь модели</p>
<p><strong>[modelParams.parentName]</strong>:  <em>String</em>,  имя родительской модели</p>
<p><strong>[modelParams.parentId]</strong>:  <em>String|Number</em>,  идентификатор родительской модели</p>
<p><strong>[modelParams.parentPath]</strong>:  <em>String</em>,  путь родительской модели</p>
<p><strong>[modelParams.parentModel]</strong>:  <em>Object</em>,  экземпляр родительской модели</p>
<p><strong>[dropCache]</strong>:  <em>Boolean</em>,  Не брать значения из кеша</p>
<h2 id="getone-modelparams-dropcache-">getOne(modelParams, dropCache)</h2>
<p>Возвращает экземпляр модели по имени или пути</p>
<p><strong>Parameters</strong></p>
<p><strong>modelParams</strong>:  <em>Object|String</em>,  @see get.modelParams</p>
<p><strong>dropCache</strong>:  <em>Boolean</em>,  @see get.dropCache</p>
<h2 id="on-modelparams-field-e-fn-ctx-">on(modelParams, [field], e, fn, [ctx])</h2>
<p>Назначает глобальный обработчик событий на экземпляры моделей по пути</p>
<p><strong>Parameters</strong></p>
<p><strong>modelParams</strong>:  <em>String|Object</em>,  Имя модели или параметры описываеющие path модели</p>
<p><strong>[field]</strong>:  <em>String</em>,  имя поля</p>
<p><strong>e</strong>:  <em>String</em>,  имя события</p>
<p><strong>fn</strong>:  <em>Function</em>,  обработчик события</p>
<p><strong>[ctx]</strong>:  <em>Object</em>,  контекст выполнения обработчика</p>
<h2 id="un-modelparams-field-e-fn-ctx-">un(modelParams, [field], e, fn, [ctx])</h2>
<p>Удаляет глобальный обработчик событий на экземпляры моделей по пути</p>
<p><strong>Parameters</strong></p>
<p><strong>modelParams</strong>:  <em>String|Object</em>,  Имя модели или параметры описываеющие path модели</p>
<p><strong>[field]</strong>:  <em>String</em>,  имя поля</p>
<p><strong>e</strong>:  <em>String</em>,  имя события</p>
<p><strong>fn</strong>:  <em>Function</em>,  обработчик события</p>
<p><strong>[ctx]</strong>:  <em>Object</em>,  контекст выполнения обработчика</p>
<h2 id="trigger-modelparams-field-e-data-">trigger(modelParams, [field], e, [data])</h2>
<p>Тригерит событие на моделях по имени и пути</p>
<p><strong>Parameters</strong></p>
<p><strong>modelParams</strong>:  <em>String|Object</em>,  Имя модели или параметры описываеющие path модели</p>
<p><strong>[field]</strong>:  <em>String</em>,  имя поля</p>
<p><strong>e</strong>:  <em>String</em>,  имя события</p>
<p><strong>[data]</strong>:  <em>Object</em>,  данные передаваемые в обработчик события</p>
<h2 id="_bindtomodel-model-">_bindToModel(model)</h2>
<p>Назначает глобальные обработчики событий на экземпляр модели</p>
<p><strong>Parameters</strong></p>
<p><strong>model</strong>:  <em>BEM.MODEL</em>,  экземпляр модели</p>
<h2 id="_bindtofields-model-">_bindToFields(model)</h2>
<p>Назначает глобальные обработчики событий на поля экземпляра модели</p>
<p><strong>Parameters</strong></p>
<p><strong>model</strong>:  <em>BEM.MODEL</em>,  экземпляр модели</p>
<h2 id="_bindtoevents-model-events-">_bindToEvents(model, events)</h2>
<p>Хелпер навешивания событий на экземпляр модели</p>
<p><strong>Parameters</strong></p>
<p><strong>model</strong>:  <em>BEM.MODEL</em>,  экземпляр модели</p>
<p><strong>events</strong>:  <em>Object</em>,  события</p>
<h2 id="_addmodel-model-">_addModel(model)</h2>
<p>Добавляет модель в хранилище</p>
<p><strong>Parameters</strong></p>
<p><strong>model</strong>:  <em>BEM.MODEL</em>,  экземпляр модели</p>
<h2 id="destruct-modelparams-">destruct(modelParams)</h2>
<p>Уничтожает экземпляр модели, удаляет его из хранилища</p>
<p><strong>Parameters</strong></p>
<p><strong>modelParams</strong>:  <em>BEM.MODEL|String|Object</em>,  Модель, имя модели или параметры описываеющие path модели</p>
<h2 id="buildpath-pathparts-pathparts-name-pathparts-id-pathparts-parentname-pathparts-parentid-pathparts-parentpath-pathparts-parentmodel-pathparts-childname-pathparts-childid-pathparts-childpath-pathparts-childmodel-">buildPath(pathParts, pathParts.name, [pathParts.id], [pathParts.parentName], [pathParts.parentId], [pathParts.parentPath], [pathParts.parentModel], [pathParts.childName], [pathParts.childId], [pathParts.childPath], [pathParts.childModel])</h2>
<p>Возвращает путь к модели по заданным параметрам</p>
<p><strong>Parameters</strong></p>
<p><strong>pathParts</strong>:  <em>Object|Array</em>,  параметры пути</p>
<p><strong>pathParts.name</strong>:  <em>String</em>,  имя модели</p>
<p><strong>[pathParts.id]</strong>:  <em>String|Number</em>,  идентификатор модели</p>
<p><strong>[pathParts.parentName]</strong>:  <em>String</em>,  имя родитеской модели</p>
<p><strong>[pathParts.parentId]</strong>:  <em>String|Number</em>,  идентификатор родительской модели</p>
<p><strong>[pathParts.parentPath]</strong>:  <em>String|Object</em>,  путь родительской модели</p>
<p><strong>[pathParts.parentModel]</strong>:  <em>BEM.MODEL</em>,  экземпляр родительской модели</p>
<p><strong>[pathParts.childName]</strong>:  <em>String</em>,  имя дочерней модели</p>
<p><strong>[pathParts.childId]</strong>:  <em>String|Number</em>,  идентификатор дочерней модели</p>
<p><strong>[pathParts.childPath]</strong>:  <em>String|Object</em>,  путь дочерней модели</p>
<p><strong>[pathParts.childModel]</strong>:  <em>BEM.MODEL</em>,  экземпляр дочерней модели</p>
<h2 id="_getpathregexp-path-">_getPathRegexp(path)</h2>
<p>Возвращает строку для построения регулярного выражения проверки пути</p>
<p><strong>Parameters</strong></p>
<p><strong>path</strong>:  <em>String</em>,  </p>
<h2 id="foreachmodel-callback-modelparams-dropcache-">forEachModel(callback, modelParams, [dropCache])</h2>
<p>Выполняет callback для каждой модели найденной по заданному пути. Если callback вернул false, то
итерация остановливается</p>
<p><strong>Parameters</strong></p>
<p><strong>callback</strong>:  <em>Function</em>,  ф-ия выполняемая для каждой модели</p>
<p><strong>modelParams</strong>:  <em>String|Object</em>,  параметры модели</p>
<p><strong>[dropCache]</strong>:  <em>Boolean</em>,  Не брать значения из кеша</p>
<h2 id="class-">class Конструктор модели</h2>
</div><div class="block__examples"></div></div></div></body></html>