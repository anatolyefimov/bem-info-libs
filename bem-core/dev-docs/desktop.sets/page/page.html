<!doctype html><html class="page__root"><head><meta charset="utf-8"/><title></title><link rel="stylesheet" href="../undefined/_undefined.css"/><script src="//yandex.st/jquery/1.8.2/jquery.min.js"></script><script src="../undefined/_undefined.js"></script></head><body class="page"><div class="catalogue"><div class="block"><div class="header"><a class="link link_pos_right" href="../index/index.html">← каталог</a><span class="header__block-name">Блок page</span></div><div class="block__title"></div><div class="block__description static-text"><div class="shmakowiki"><p>﻿Блок <tt>page</tt> создаёт теги верхнего уровня страницы:</p><ul><li><tt>&lt;html&gt;</tt></li><li><tt>&lt;head&gt;</tt></li><li><tt>&lt;body&gt;</tt></li></ul><p>Именно он отвечает за то, какие подключить <tt>CSS</tt> и <tt>JS</tt> файлы к странице, выставление <tt>meta</tt> тегов, заголовка и так далее.</p><p>Декларация блока в <tt>BEMJSON</tt> начинается объявлением блока и указанием свойства <tt>title</tt>, которое превращается в тег <tt>&lt;title&gt;</tt> в <tt>HTML</tt>.</p><pre><code class="js">({
block: &apos;page&apos;,
title: &apos;Page with link&apos;,
...
})</code></pre><p>Указание свойства <tt>head</tt> дополняет элемент <tt>head</tt>, соответствующий <tt>HTML</tt> тегу <tt>&lt;head&gt;</tt>, элементами для подключения <tt>CSS</tt> и <tt>JS</tt> файлов, а также указания <tt>meta</tt>:</p><pre><code class="js">({
...
head: [
    { elem: &apos;css&apos;, url: &apos;example.css&apos;, ie: false },
    { elem: &apos;css&apos;, url: &apos;example.ie.css&apos;, ie: &apos;lt IE 8&apos; },
    { elem: &apos;js&apos;, url: &apos;example.js&apos; },
    { elem: &apos;meta&apos;, attrs: { name: &apos;keywords&apos;, content: &apos;js, css, html&apos; } },
    { elem: &apos;meta&apos;, attrs: { name: &apos;description&apos;, content: &apos;Yet another webdev blog&apos; } }
],
...
})</code></pre><p>Элемент <tt>css</tt> превращается в <tt>HTML</tt> в тег <tt>&lt;link&gt;</tt>, подключающий как <tt>CSS</tt> стиль тот файл, что указан в свойстве <tt>url</tt> этого элемента. Также у такого элемента может быть свойство <tt>ie</tt>. Если это свойство <tt>false</tt>, то будут использоваться такие <tt>condittional comments</tt>, которые предотвратят использование этих стилей в <tt>IE</tt>. При строчном значении этого свойства тег <tt>&lt;link&gt;</tt> , будет обёрнут в соответствующий <tt>conditional comment</tt>, и этот стиль будет грузиться и использоваться указанных браузерах.<br/> Также есть возможность указывать свойство <tt>content</tt> для содержания тега <tt>&lt;style&gt;</tt>:</p><pre><code class="js">({
...
head: [
    {
        elem: &apos;css&apos;,
        content: &apos;.b-blah { color: #f00&apos; }
    },
    ...
],
...
})</code></pre><p>Элемент <tt>js</tt> действует аналогично, подключая к странице <tt>JS</tt> файлы при помощи тега <tt>&lt;script&gt;</tt>.</p><p>Свойство <tt>head</tt> не описывает содержание <tt>HTML</tt>-тега <tt>&lt;head&gt;</tt> полностью, а лишь дополняет дефолтное, которое блок сам создаёт в своём <tt>BEMHTML</tt> шаблоне.</p><h3 id="Tegmetasukazaniemkodirovki">Тег &lt;meta&gt; с указанием кодировки</h3><p><tt>BEMHTML</tt>:</p><pre><code class="js">content: [
{
    tag: &apos;meta&apos;,
    attrs: { &apos;http-equiv&apos;: &apos;content-type&apos;, content: &apos;text/html; charset=utf-8&apos; }
},
...</code></pre><h3 id="TegmetadlyaispolyzovaniyaIE9ivyshevmaksimalynomcompatibilityrezhime">Тег &lt;meta&gt; для использования <tt>IE9</tt> (и выше) в максимальном <tt>compatibility</tt> режиме</h3><p><tt>BEMHTML</tt>:</p><pre><code class="js">content: [
...
{
    tag: &apos;meta&apos;,
    attrs: { &apos;http-equiv&apos;: &apos;X-UA-Compatible&apos;, content: &apos;IE=EmulateIE7, IE=edge&apos; }
},
...</code></pre><h3 id="Vystavlenieznacheniyategatitlestranicyizsvojstva">Выставление значения тега &lt;title&gt; страницы из свойства</h3><pre><code class="js">content: [
...
{
    tag: &apos;title&apos;,
    content: this.ctx.title
},
...</code></pre><h3 id="Vystavleniefavikonki">Выставление фавиконки</h3><pre><code class="js">content: [
...
this.ctx.favicon ? {
    elem: &apos;favicon&apos;,
    url: this.ctx.favicon
} : &apos;&apos;,
...</code></pre><h3 id="Deklaraciyablokaua">Декларация блока ua</h3><pre><code class="js">content: [
...
{
    block: &apos;ua&apos;
},
...</code></pre><p>Значением свойства <tt>content</tt> блока <tt>page</tt> может быть хеш-описание содержимого (если речь идёт лишь об одном блоке) или массив блоков, описанных хешами:</p><pre><code class="js">({
...
content: {
    block: &apos;b-link&apos;,
    mods: { pseudo: &apos;yes&apos;, togcolor: &apos;yes&apos;, color: &apos;green&apos; },
    url: &apos;#&apos;,
    target: &apos;_blank&apos;,
    title: &apos;Кликни меня&apos;,
    content: &apos;Псевдоссылка, меняющая цвет по клику&apos;
}
})</code></pre><p>На блоки, содержащиеся в <tt>content</tt>, действуют их <tt>BEMHTML</tt> шаблоны.</p><h3 id="Otmenaavtomaticheskojinicializaciiblokov">Отмена автоматической инициализации блоков</h3><pre><code class="js">noDeps: [
    { block: &apos;i-bem&apos;, elem: &apos;dom&apos;, mods: { init: &apos;auto&apos; } }
]</code></pre></div></div></div></div></body></html>