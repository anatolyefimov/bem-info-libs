var BEMHTML=function(){function t(t){return t._mode=n,t.block=i,t.elem=r,t.elemMods=o,t.mods=s,t}function e(t,e){var u=n;n=e._mode;var c=i;i=e.block;var a=r;r=e.elem;var l=o;o=e.elemMods;var f=s;s=e.mods;var d=t(e);return n=u,i=c,r=a,o=l,s=f,d}var n,i,r,o,s,u,c={},a=function(c){function a(t){var e=n;return"attrs"===e?l(t):"content"===e?_(t):"default"===e?b(t):"js"===e?N(t):"tag"===e?h(t):"mix"===e?j(t):"cls"===e?T(t):"xUACompatible"===e?"b-page"===i&&!!r==!1?F(t):q(t):"doctype"===e?"b-page"===i&&!!r==!1?S(t):q(t):"jsAttr"===e?P(t):"bem"===e?O(t):q(t)}function l(t){var e=i;if("checkbox"===e){if("control"===r){var n=t.ctx.attrs||{};return n.id=t._checkboxAttrs.id,n.type="checkbox",s.disabled&&(n.disabled="disabled"),"yes"==s.checked&&(n.checked="checked"),n["aria-labelledby"]=t._labelId,n}return d(t)}if("b-link"===e)return!!r==!1?f(t):d(t);if("b-text"===e)return!r==!1&&!t.ctx.id==!1?{id:t.ctx.id}:d(t);if("b-page"===e){var e=r;return"js"===e?!t.ctx.url==!1?{src:t.ctx.url}:d(t):"css"===e?!t.ctx.url==!1?{rel:"stylesheet",href:t.ctx.url}:d(t):"favicon"===e?{rel:"shortcut icon",href:t.ctx.url}:"meta"===e?t.ctx.attrs:d(t)}return d(t)}function f(t){for(var e,i,r,o,s=t.ctx,u=["title","target"],c=typeof s.url,a={href:"undefined"===c||"string"===c?s.url:(c=[],e=t._buf,t._buf=c,i=n,n="",r=t.ctx,t.ctx=s.url,o=q(t),t._buf=e,n=i,t.ctx=r,c.join(""))};c=u.pop();)s[c]&&(a[c]=s[c]);return a}function d(){return void 0}function h(t){var e=i;if("checkbox"===e)return"control"===r?"input":!!r==!1?"span":m(t);if("button"===e)return!!r==!1?"button":m(t);if("b-link"===e)return!!r==!1?"a":m(t);if("b-text"===e)return!r==!1?t.ctx.elem:m(t);if("b-page"===e){var e=r;return"js"===e?"script":"css"===e?!t.ctx.url==!1?"link":"style":"favicon"===e?"link":"meta"===e?"meta":"head"===e?"head":"root"===e?"html":!!r==!1?"body":m(t)}return"i-ua"===e&&!!r==!1?"script":m(t)}function m(){return void 0}function _(t){var e=i;return"checkbox"===e?!!r==!1?[{elem:"box",tag:"span",elemMods:"yes"===s.checked?{checked:"yes"}:"",content:[{elem:"control",attrs:t.ctx.checkboxAttrs||{}},{elem:"tick",tag:"i"}]},t.ctx.content]:p(t):"button"===e?v(t):"i-ua"===e&&!!r==!1?[";(function(d,e,c,r){","e=d.documentElement;",'c="className";','r="replace";','e[c]=e[c][r]("i-ua_js_no","i-ua_js_yes");','if(d.compatMode!="CSS1Compat")','e[c]=e[c][r]("i-ua_css_standart","i-ua_css_quirks")',"})(document);"].join(""):p(t)}function v(t){if(!(t.__$anflg4!==!0)==!1){if(!!r==!1){var e,n;return{elem:"text",tag:"span",content:(e=t.__$anflg4,t.__$anflg4=!0,n=v(t),t.__$anflg4=e,n)}}return p(t)}return p(t)}function p(t){return t.ctx.content}function b(t){var e=i;return"checkbox"===e?g(t):"b-page"===e?"css"===r&&!t.ctx.hasOwnProperty("ie")==!1&&!!t.ctx._ieCommented==!1?x(t):E(t):"i-jquery"===e?"core"===r&&!(t.__$anflg1!==!0)==!1?M(t):q(t):"i-bem"===e&&"i18n"===r?C(t):q(t)}function g(t){return!(t.__$anflg5!==!0)==!1&&!!t._checkboxAttrs==!1&&!!r==!1?y(t):q(t)}function y(t){var e=(t.ctx.checkboxAttrs||{}).id,n=e||t.generateId(),i=t.__$anflg5;t.__$anflg5=!0;var r=t._checkboxAttrs;t._checkboxAttrs=e?t.ctx.checkboxAttrs:{id:"id"+n};var o=t._labelId;t._labelId="label"+n,g(t),t._checkboxAttrs=r,t._labelId=o,t.__$anflg5=i}function x(e){var i=e.ctx.ie;if(i===!0){var r=n;n="";var o=e.ctx;e.ctx=[6,7,8,9].map(function(t){return{elem:"css",url:this.ctx.url+".ie"+t+".css",ie:"IE "+t}},t(e)),q(e),n=r,e.ctx=o}else{var s=i?"!IE"===i?[i,"<!-->","<!--"]:[i,"",""]:["gt IE 9","<!-->","<!--"],u=n;n="";var c=e.ctx,a=c._ieCommented;c._ieCommented=!0;var l=e.ctx;e.ctx=["<!--[if "+s[0]+"]>",s[1],e.ctx,s[2],"<![endif]-->"],q(e),n=u,c._ieCommented=a,e.ctx=l}}function E(t){return!(t.__$anflg2!==!0)==!1&&!!r==!1?k(t):q(t)}function k(t){var e,i,r,o,s=t.ctx,u=(e=n,n="doctype",i=S(t),n=e,i),c=(r=n,n="xUACompatible",o=F(t),n=r,o),a=[u,{elem:"root",content:[{elem:"head",content:[{tag:"meta",attrs:{charset:"utf-8"}},c,{tag:"title",content:s.title},s.favicon?{elem:"favicon",url:s.favicon}:"",s.meta,{block:"i-ua"},s.head]},s]}],l=t.__$anflg2;t.__$anflg2=!0;var f=t.ctx;t.ctx=a;var d=n;n="",q(t),t.ctx=f,n=d,t.__$anflg2=l}function M(t){var e,i,r,o,s;return e=t.__$anflg1,t.__$anflg1=!0,r=t.ctx,t.ctx={block:"b-page",elem:"js",url:"//yastatic.net/jquery/1.8.3/jquery.min.js"},o=n,n="",s=q(t),t.ctx=r,n=o,i=s,t.__$anflg1=e,i}function C(t){var e,i,r,o;if(!t.ctx)return"";var s=t.ctx,u=s.keyset,c=s.key,a=s.params||{};if(!u&&!c)return"";if(s.content){var l;a.content=(l=[],e=t._buf,t._buf=l,i=n,n="",r=t.ctx,t.ctx=s.content,o=q(t),t._buf=e,n=i,t.ctx=r,l.join(""))}t._buf.push(BEM.I18N(u,c,a))}function N(t){return"checkbox"===i&&!!r==!1?!0:I(t)}function I(){return void 0}function O(t){var e=i;if("b-page"===e){var e=r;return"js"===e||"css"===e||"favicon"===e||"meta"===e||"head"===e||"root"===e?!1:B(t)}return"i-ua"===e&&!!r==!1?!1:B(t)}function B(){return void 0}function j(t){return"b-page"===i?w(t):L(t)}function w(t){if(!(t.__$anflg3!==!0)==!1){if(!!r==!1){var e,n,i=(e=t.__$anflg3,t.__$anflg3=!0,n=w(t),t.__$anflg3=e,n||[]);return i.push({block:"i-ua",mods:{interaction:"yes"},js:!0}),i}return D(t)}return D(t)}function D(t){return!!r==!1?[{elem:"body"}]:L(t)}function L(){return void 0}function T(t){return"b-page"===i&&"root"===r?"i-ua_js_no i-ua_css_standard":A(t)}function A(){return void 0}function F(t){return t.ctx["x-ua-compatible"]===!1?!1:{tag:"meta",attrs:{"http-equiv":"X-UA-Compatible",content:t.ctx["x-ua-compatible"]||"IE=edge"}}}function S(t){return t.ctx.doctype||"<!DOCTYPE html>"}function P(){return void 0}function q(t){return!t.ctx==!1&&!t.ctx.link==!1&&!!t._.isSimple(t.ctx)==!1?$(t):R(t)}function $(n){function i(){if("no-follow"===this.ctx.link)return void 0;var t=this._links[this.ctx.link];return __r0=this.ctx,this.ctx=t,__r1=e(K,this),this.ctx=__r0,__r1}if(!u||!n._cacheLog)return i.call(t(n));var r=n._buf.slice(n._cachePos).join("");n._cachePos=n._buf.length,n._cacheLog.push(r,{log:n._localLog.slice(),link:n.ctx.link});var o=i.call(t(n));return n._cachePos=n._buf.length,o}function R(t){return!u==!1&&!t.ctx==!1&&!t.ctx.cache==!1?U(t):V(t)}function U(e){function n(t,e,n){if(0===e.length)return void 0;if(Array.isArray(n)){for(var i=t,r=0;r<n.length-1;r++)i=i[n[r]];n=i[n[r]]}for(var o,s=t,r=0;r<e.length-1;r++)s=s[e[r]];return o=s[e[r]],s[e[r]]=n,o}var i;if(i=u.get(e.ctx.cache)){var r=e._links;e.ctx.links&&(e._links=e.ctx.links);for(var o=0;o<i.log.length;o++)if("string"!=typeof i.log[o]){var s,c=i.log[o];s=c.log.map(function(t){return{key:t[0],value:n(this,t[0],t[1])}},t(e)).reverse();var l=e.ctx,f=l.cache;l.cache=null;var d=e._cacheLog;e._cacheLog=null;var h=e.ctx,m=h.link;h.link=c.link,a(e),l.cache=f,e._cacheLog=d,h.link=m,s.forEach(function(t){n(this,t.key,t.value)},t(e))}else e._buf.push(i.log[o]);return e._links=r,i.res}var _,v=[],p=e.ctx,b=p.cache;p.cache=null;var g=e._cachePos;e._cachePos=e._buf.length;var y=e._cacheLog;e._cacheLog=v;var x=e._localLog;e._localLog=[],_=a(e);var E=e._buf.slice(e._cachePos).join("");return E&&v.push(E),p.cache=b,e._cachePos=g,e._cacheLog=y,e._localLog=x,u.set(e.ctx.cache,{log:v,res:_}),_}function V(t){var e=n;if("default"===e)return Q(t);if(""===e){if(!t._.isSimple(t.ctx)==!1){t._listLength--;var i=t.ctx;return void((i&&i!==!0||0===i)&&t._buf.push(i))}return!!t.ctx==!1?void t._listLength--:!t._.isArray(t.ctx)==!1?J(t):W(t)}return X(t)}function Q(t){function e(t,e){return(t||"")+"__"+(e||"")}var u,c,a,f,d,m,v,p,b,g,y,x,E,k,M,C,I,B,w,D,L,A,F,S=t.BEM,$=t.ctx,R=t._buf;if(c=n,n="tag",x=h(t),n=c,F=x,"undefined"!=typeof F||(F=$.tag),"undefined"!=typeof F||(F="div"),F){var U,V;i&&$.js!==!1&&(a=n,n="js",f=N(t),n=a,V=f,V=V?t._.extend($.js,V===!0?{}:V):$.js===!0?{}:$.js,V&&((U={})[S.INTERNAL.buildClass(i,$.elem)]=V)),R.push("<",F);var Q=(d=n,n="bem",m=O(t),n=d,m);"undefined"!=typeof Q||(Q="undefined"!=typeof $.bem?$.bem:$.block||$.elem);var J=(v=n,n="cls",p=T(t),n=v,p);J||(J=$.cls);var W=$.block&&U&&!$.elem;if(Q||J){if(R.push(' class="'),Q){S.INTERNAL.buildClasses(i,$.elem,$.elemMods||$.mods,R);var X=(b=n,n="mix",g=j(t),n=b,g);if($.mix&&(X=X?[].concat(X,$.mix):$.mix),X){var z={};z[e(i,r)]=!0,t._.isArray(X)||(X=[X]);for(var K=0;K<X.length;K++){var H=X[K];if(H){var Z=H.block||H.elem,Y=H.block||H._block||i,G=H.elem||H._elem||r,te=H.mods||s,ee=H.elemMods||{};if(Z&&R.push(" "),S.INTERNAL[Z?"buildClasses":"buildModsClasses"](Y,H.elem||H._elem||(H.block?void 0:r),H.elemMods||H.mods,R),H.js&&((U||(U={}))[S.INTERNAL.buildClass(Y,H.elem)]=H.js===!0?{}:H.js,W||(W=Y&&!H.elem)),Z&&!z[e(Y,G)]){z[e(Y,G)]=!0;var ne=(y=i,i=Y,u=r,r=G,E=s,s=te,k=o,o=ee,M=n,n="mix",C=j(t),i=y,r=u,s=E,o=k,n=M,C);if(ne)for(var ie=0;ie<ne.length;ie++){var re=ne[ie];(re.block||re.elem)&&z[e(re.block,re.elem)]||(re._block=Y,re._elem=G,X.splice(K+1,0,re))}}}}}}J&&R.push(Q?" ":"",J),W&&R.push(" i-bem"),R.push('"')}if(U){var oe=(I=n,n="jsAttr",B=P(t),n=I,B);R.push(" ",oe||"data-bem",'="',t._.attrEscape(JSON.stringify(U)),'"')}var se=(w=n,n="attrs",D=l(t),n=w,D);if(se=t._.extend(se,$.attrs)){var ue;for(ue in se)void 0!==se[ue]&&R.push(" ",ue,'="',t._.attrEscape(se[ue]),'"')}}if(t._.isShortTag(F))R.push("/>");else{F&&R.push(">");var ce=(L=n,n="content",A=_(t),n=L,A);if(ce||0===ce){var Q=i||r,ae=t._notNewList;t._notNewList=!1;var le=t.position;t.position=Q?1:t.position;var fe=t._listLength;t._listLength=Q?1:t._listLength;var de=t.ctx;t.ctx=ce;var he=n;n="",q(t),t._notNewList=ae,t.position=le,t._listLength=fe,t.ctx=de,n=he}F&&R.push("</",F,">")}}function J(t){var e=t.ctx,n=e.length,i=0,r=t.position,o=t._notNewList;for(o?t._listLength+=n-1:(t.position=0,t._listLength=n),t._notNewList=!0;n>i;){var s=e[i++],u=t.ctx;t.ctx=null==s?"":s,q(t),t.ctx=u}o||(t.position=r)}function W(t){var e=t.ctx.block,u=t.ctx.elem,c=t._currBlock||i;t.ctx||(t.ctx={});var a=n;n="default";var l=t._links;t._links=t.ctx.links||t._links;var f=i;i=e||(u?c:void 0);var d=t._currBlock;t._currBlock=e||u?void 0:c;var h=r;r=t.ctx.elem;var m=s;s=e?t.ctx.mods||(t.ctx.mods={}):s;var _=o;o=t.ctx.elemMods||{},i||r?t.position=(t.position||0)+1:t._listLength--,b(t),n=a,t._links=l,i=f,t._currBlock=d,r=h,s=m,o=_}function X(){throw new Error(this)}function z(t){return K(t||this)}function K(t){return a(t)}return!function(){!function(t,e){if(e.I18N)return void 0;t.BEM=e;var n=e.I18N=function(t,e){return e};n.keyset=function(){return n},n.key=function(t){return t},n.lang=function(){return void 0}}(this,"undefined"==typeof BEM?{}:BEM)}(),!function(){function t(t,e){this.ctx=null===typeof t?"":t,this.apply=e,this._buf=[],this._=this,this._start=!0,this._listLength=0,this._notNewList=!1,this.position=0}var e={},n=Object.prototype.toString,i={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1};!function(t,e){function n(t,e,n){n.push(o,t,o,e)}function i(t,e,i,r){r.push(t),i&&n(e,i,r)}function r(t,r,o,u,c){i(t,e,e,c),c.push(s,r),u&&n(o,u,c)}var o="_",s="__",u="[a-zA-Z0-9-]+";t.INTERNAL={NAME_PATTERN:u,MOD_DELIM:o,ELEM_DELIM:s,buildModPostfix:function(t,e,i){var r=i||[];return n(t,e,r),i?r:r.join("")},buildClass:function(t,n,o,s,u){var c=typeof o;if("string"==c?"string"!=typeof s&&(u=s,s=o,o=n,n=e):"undefined"!=c?(u=o,o=e):n&&"string"!=typeof n&&(u=n,n=e),!(n||o||u))return t;var a=u||[];return n?r(t,n,o,s,a):i(t,o,s,a),u?a:a.join("")},buildModsClasses:function(t,e,n,o){var s=o||[];if(n){var u;for(u in n)if(n.hasOwnProperty(u)){var c=n[u];null!=c&&(c=n[u]+"",c&&(s.push(" "),e?r(t,e,u,c,s):i(t,u,c,s)))}}return o?s:s.join("")},buildClasses:function(t,n,o,s){var u=s||[];return n?r(t,n,e,e,u):i(t,e,e,u),this.buildModsClasses(t,n,o,s),s?u:u.join("")}}}(e);var r=function(){var t={'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;"},e=function(e){return t[e]||e};return function(t){return t=new RegExp(t,"g"),function(n){return(""+n).replace(t,e)}}}();t.prototype.isArray=function(t){return"[object Array]"===n.call(t)},t.prototype.isSimple=function(t){var e=typeof t;return"string"===e||"number"===e||"boolean"===e},t.prototype.isShortTag=function(t){return i.hasOwnProperty(t)},t.prototype.extend=function(t,e){if(!t||!e)return t||e;var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i},t.prototype.identify=function(){var t=0,n=e.__id=+new Date,i="__"+n,r=function(){return"uniq"+n+ ++t};return function(t,e){return t?e||t[i]?t[i]:t[i]=r():r()}}(),t.prototype.xmlEscape=r("[&<>]"),t.prototype.attrEscape=r('["&<>]'),t.prototype.BEM=e,t.prototype.isFirst=function(){return 1===this.position},t.prototype.isLast=function(){return this.position===this._listLength},t.prototype.generateId=function(){return this.identify(this.ctx)},c.apply=t.apply=function(){var e=new t(this,z);return e.apply(),e._buf.join("")}}(),c}("undefined"==typeof c?{}:c);return function(t){var e=this;return t||(t={}),u=t.cache,function(){return e===this?(e=void 0,n="",i="",r="",o="",s=""):(n="",i="",r="",o="",s=""),a.apply.call([e])}.call(null)}}();"undefined"==typeof exports||(exports.BEMHTML=BEMHTML),function(t){function e(e,i,r){var s=!1;if(o){var u=[];t.each(c,function(){r.hasOwnProperty(this)&&(s=!0)&&u.push({name:this,val:r[this]})}),s&&(t.each(r,function(t){u.push({name:t,val:this})}),r=u)}t.each(r,function(r,o){if(s&&(r=o.name,o=o.val),t.isFunction(o)&&(!n||o.toString().indexOf(".__base")>-1)){var u=e[r]||function(){};i[r]=function(){var t=this.__base;this.__base=u;var e=o.apply(this,arguments);return this.__base=t,e}}else i[r]=o})}var n=function(){"_"}.toString().indexOf("_")>-1,i=function(){},r=Object.create||function(t){var e=function(){};return e.prototype=t,new e},o=!0,s={toString:""};for(var u in s)s.hasOwnProperty(u)&&(o=!1);var c=o?["toString","valueOf"]:null;t.inherit=function(){var n=arguments,o=t.isFunction(n[0]),s=o?n[0]:i,u=n[o?1:0]||{},c=n[o?2:1],a=u.__constructor||o&&s.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:function(){};if(!o)return a.prototype=u,a.prototype.__self=a.prototype.constructor=a,t.extend(a,c);t.extend(a,s);var l=s.prototype,f=a.prototype=r(l);return f.__self=f.constructor=a,e(l,f,u),c&&e(s,a,c),a},t.inheritSelf=function(t,n,i){var r=t.prototype;return e(r,r,n),i&&e(t,t,i),t}}(jQuery),function(t){var e=0,n="__"+ +new Date,i=function(){return"uniq"+ ++e};t.identify=function(t,e){if(!t)return i();var r="uniqueID"in t?"uniqueID":n;return e||r in t?t[r]:t[r]=i()}}(jQuery),function(t){t.isEmptyObject||(t.isEmptyObject=function(t){for(var e in t)return!1;return!0})}(jQuery),function(t){t.extend({debounce:function(t,e,n,i){3==arguments.length&&"boolean"!=typeof n&&(i=n,n=!1);var r;return function(){var o=arguments;i=i||this,n&&!r&&t.apply(i,o),clearTimeout(r),r=setTimeout(function(){n||t.apply(i,o),r=null},e)}},throttle:function(t,e,n){var i,r,o;return function(){r=arguments,o=!0,n=n||this,i||function(){o?(t.apply(n,r),o=!1,i=setTimeout(arguments.callee,e)):i=null}()}}})}(jQuery),function(t){var e="__"+ +new Date+"storage",n=function(e,n){return t.identify(e)+(n?t.identify(n):"")},i={buildEventName:function(t){return t},on:function(i,r,o,s,u){if("string"==typeof i){t.isFunction(r)&&(s=o,o=r,r=void 0);for(var c,a=n(o,s),l=this[e]||(this[e]={}),f=i.split(" "),d=0;i=f[d++];)if(i=this.buildEventName(i),c=l[i]||(l[i]={ids:{},list:{}}),!(a in c.ids)){var h=c.list,m={fn:o,data:r,ctx:s,special:u};h.last?(h.last.next=m,m.prev=h.last):h.first=m,c.ids[a]=h.last=m}}else{var _=this;t.each(i,function(t,e){_.on(t,e,r,u)})}return this},onFirst:function(t,e,n,i){return this.on(t,e,n,i,{one:!0})},un:function(i,r,o){if("string"==typeof i||"undefined"==typeof i){var s=this[e];if(s)if(i){for(var u,c=i.split(" "),a=0;i=c[a++];)if(i=this.buildEventName(i),u=s[i])if(r){var l=n(r,o),f=u.ids;if(l in f){var d=u.list,h=f[l],m=h.prev,_=h.next;m?m.next=_:h===d.first&&(d.first=_),_?_.prev=m:h===d.last&&(d.last=m),delete f[l]}}else delete this[e][i]}else delete this[e]}else{var v=this;t.each(i,function(t,e){v.un(t,e,o)})}return this},trigger:function(n,i){var r,o=this,s=o[e];if("string"==typeof n?n=t.Event(o.buildEventName(r=n)):n.type=o.buildEventName(r=n.type),n.target||(n.target=o),s&&(s=s[n.type]))for(var u,c=s.list.first;c;)n.data=c.data,u=c.fn.call(c.ctx||o,n,i),"undefined"!=typeof u&&(n.result=u,u===!1&&(n.preventDefault(),n.stopPropagation())),c.special&&c.special.one&&o.un(r,c.fn,c.ctx),c=c.next;return this}};t.observable=t.inherit(i,i)}(jQuery),function(t,e){function n(t,e,n){return(t?"__elem_"+t:"")+"__mod"+(e?"_"+e:"")+(n?"_"+n:"")}function i(e,i,r){t.isFunction(e)?i[n(r,"*","*")]=e:t.each(e,function(e,o){t.isFunction(o)?i[n(r,e,"*")]=o:t.each(o,function(t,o){i[n(r,e,t)]=o})})}function r(t,e){return e?Array.isArray(e)?function(n){for(var i=0,r=e.length;r>i;)if(n.hasMod(t,e[i++]))return!0;return!1}:function(n){return n.hasMod(t,e)}:function(e){return e.hasMod(t)}}var o=[],s={},u={};this.BEM=t.inherit(t.observable,{__constructor:function(t,e,n){var i=this;i._modCache=t||{},i._processingMods={},i._params=e,i.params=null,n!==!1?i._init():i.afterCurrentEvent(function(){i._init()})},_init:function(){return this._initing||this.hasMod("js","inited")||(this._initing=!0,this.params||(this.params=t.extend(this.getDefaultParams(),this._params),delete this._params),this.setMod("js","inited"),delete this._initing,this.hasMod("js","inited")&&this.trigger("init")),this},changeThis:function(t,e){return t.bind(e||this)},afterCurrentEvent:function(t,e){this.__self.afterCurrentEvent(this.changeThis(t,e))},trigger:function(t,e){return this.__base(t=this.buildEvent(t),e).__self.trigger(t,e),this},buildEvent:function(e){return"string"==typeof e&&(e=t.Event(e)),e.block=this,e},hasMod:function(t,n,i){var r=arguments.length,o=!1;1==r?(i="",n=t,t=e,o=!0):2==r&&("string"==typeof t?(i=n,n=t,t=e):(i="",o=!0));var s=this.getMod(t,n)===i;return o?!s:s},getMod:function(t,e){var n=typeof t;if("string"===n||"undefined"===n){e=t||e;var i=this._modCache;return e in i?i[e]:i[e]=this._extractModVal(e)}return this._getElemMod(e,t)},_getElemMod:function(t,e,n){return this._extractModVal(t,e,n)},getMods:function(t){var n=t&&"string"!=typeof t,i=this,r=[].slice.call(arguments,n?1:0),o=i._extractMods(r,n?t:e);return n||(r.length?r.forEach(function(t){i._modCache[t]=o[t]}):i._modCache=o),o},setMod:function(n,i,r){"undefined"==typeof r&&(r=i,i=n,n=e);var o=this;if(!n||n[0]){var s=(n&&n[0]?t.identify(n[0]):"")+"_"+i;if(this._processingMods[s])return o;var u,c=n?o._getElemMod(i,n,u=o.__self._extractElemNameFrom(n)):o.getMod(i);if(c===r)return o;this._processingMods[s]=!0;var a=!0,l=[i,r,c];n&&l.unshift(n),[["*","*"],[i,"*"],[i,r]].forEach(function(t){a=o._callModFn(u,t[0],t[1],l)!==!1&&a}),!n&&a&&(o._modCache[i]=r),a&&o._afterSetMod(i,r,c,n,u),delete this._processingMods[s]}return o},_afterSetMod:function(){},toggleMod:function(t,n,i,r,o){"string"==typeof t&&(o=r,r=i,i=n,n=t,t=e),"undefined"==typeof r?r="":"boolean"==typeof r&&(o=r,r="");var s=this.getMod(t,n);return(s==i||s==r)&&this.setMod(t,n,"boolean"==typeof o?o?i:r:this.hasMod(t,n,i)?r:i),this},delMod:function(t,n){return n||(n=t,t=e),this.setMod(t,n,"")},_callModFn:function(t,i,r,o){var s=n(t,i,r);return this[s]?this[s].apply(this,o):e},_extractModVal:function(){return""},_extractMods:function(){return{}},channel:function(t,e){return this.__self.channel(t,e)},getDefaultParams:function(){return{}},del:function(t){var e=[].slice.call(arguments);return"string"==typeof t&&e.unshift(this),this.__self.del.apply(this.__self,e),this},destruct:function(){}},{_name:"i-bem",blocks:s,decl:function(n,o,u){if("string"==typeof n?n={block:n}:n.name&&(n.block=n.name),n.baseBlock&&!s[n.baseBlock])throw'baseBlock "'+n.baseBlock+'" for "'+n.block+'" is undefined';o||(o={}),o.onSetMod&&(i(o.onSetMod,o),delete o.onSetMod),o.onElemSetMod&&(t.each(o.onElemSetMod,function(t,e){i(e,o,t)}),delete o.onElemSetMod);var c=s[n.baseBlock||n.block]||this;if(n.modName){var a=r(n.modName,n.modVal);t.each(o,function(n,i){t.isFunction(i)&&(o[n]=function(){var t;if(a(this))t=i;else{var r=c.prototype[n];r&&r!==o[n]&&(t=this.__base)}return t?t.apply(this,arguments):e})})}if(u&&"boolean"==typeof u.live){var l=u.live;u.live=function(){return l}}var f;return n.block==c._name?(f=t.inheritSelf(c,o,u))._processLive(!0):((f=s[n.block]=t.inherit(c,o,u))._name=n.block,delete f._liveInitable),f},_processLive:function(){return!1},create:function(t,e){return"string"==typeof t&&(t={block:t}),new s[t.block](t.mods,e)},getName:function(){return this._name},_extractElemNameFrom:function(){},afterCurrentEvent:function(t,e){1==o.push({fn:t,ctx:e})&&setTimeout(this._runAfterCurrentEventFns,0)},_runAfterCurrentEventFns:function(){var t=o.length;if(t)for(var e,n=o.splice(0,t);e=n.shift();)e.fn.call(e.ctx||this)},changeThis:function(t,e){return t.bind(e||this)},del:function(t){var e="string"==typeof t,n=e?0:1,i=arguments.length;for(e&&(t=this);i>n;)delete t[arguments[n++]];return this},channel:function(n,i){return"boolean"==typeof n&&(i=n,n=e),n||(n="default"),i?void(u[n]&&(u[n].un(),delete u[n])):u[n]||(u[n]=new t.observable)}})}(jQuery),function(){Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e})}(),function(){var t=Array.prototype,e=Object.prototype.toString,n={indexOf:function(t,e){e=+(e||0);var n=this,i=n.length;if(i>0&&i>e)for(e=0>e?Math.ceil(e):Math.floor(e),-i>e&&(e=0),0>e&&(e+=i);i>e;){if(e in n&&n[e]===t)return e;++e}return-1},forEach:function(t,e){for(var n=-1,i=this,r=i.length;++n<r;)n in i&&(e?t.call(e,i[n],n,i):t(i[n],n,i))},map:function(t,e){for(var n=-1,i=this,r=i.length,o=new Array(r);++n<r;)n in i&&(o[n]=e?t.call(e,i[n],n,i):t(i[n],n,i));return o},filter:function(t,e){for(var n=-1,i=this,r=i.length,o=[];++n<r;)n in i&&(e?t.call(e,i[n],n,i):t(i[n],n,i))&&o.push(i[n]);return o},reduce:function(t,e){var n,i=-1,r=this,o=r.length;if(arguments.length<2){for(;++i<o;)if(i in r){n=r[i];break}}else n=e;for(;++i<o;)i in r&&(n=t(n,r[i],i,r));return n},some:function(t,e){for(var n=-1,i=this,r=i.length;++n<r;)if(n in i&&(e?t.call(e,i[n],n,i):t(i[n],n,i)))return!0;return!1},every:function(t,e){for(var n=-1,i=this,r=i.length;++n<r;)if(n in i&&!(e?t.call(e,i[n],n,i):t(i[n],n,i)))return!1;return!0}};for(var i in n)t[i]||(t[i]=n[i]);Array.isArray||(Array.isArray=function(t){return"[object Array]"===e.call(t)})}(),function(){var t=Array.prototype.slice;Function.prototype.bind||(Function.prototype.bind=function(e){var n=this,i=t.call(arguments,1);return function(){return n.apply(e,i.concat(t.call(arguments)))}})}(),function(t,e,n){function i(t,e,n){n.push(s,t,s,e)}function r(t,e,n,r){r.push(t),n&&i(e,n,r)}function o(t,e,o,s,c){r(t,n,n,c),c.push(u,e),s&&i(o,s,c)}var s="_",u="__",c="[a-zA-Z0-9-]+";t.INTERNAL={NAME_PATTERN:c,MOD_DELIM:s,ELEM_DELIM:u,buildModPostfix:function(t,e,n){var r=n||[];return i(t,e,r),n?r:r.join("")},buildClass:function(t,e,i,s,u){var c=typeof i;if("string"==c?"string"!=typeof s&&"number"!=typeof s&&(u=s,s=i,i=e,e=n):"undefined"!=c?(u=i,i=n):e&&"string"!=typeof e&&(u=e,e=n),!(e||i||u))return t;var a=u||[];return e?o(t,e,i,s,a):r(t,i,s,a),u?a:a.join("")},buildClasses:function(t,i,s,u){i&&"string"!=typeof i&&(u=s,s=i,i=n);var c=u||[];return i?o(t,i,n,n,c):r(t,n,n,c),s&&e.each(s,function(e,n){n&&(c.push(" "),i?o(t,i,e,n,c):r(t,e,n,c))}),u?c:c.join("")}}}(BEM,jQuery),function(t,e,n){function i(t,n){var i=t[0];e.each(u(i),function(s,u){o(u,i,s,n);var c=m[u.uniqId];c?c.domElem.index(i)<0&&(c.domElem=c.domElem.add(t),e.extend(c._params,u)):r(s,t,u)})}function r(t,i,r,s,c){"boolean"==typeof r&&(c=s,s=r,r=n);var a=i[0];r=o(r||u(a)[t],a,t);var l=r.uniqId;if(m[l])return m[l]._init();h[l]=h[l]?h[l].add(i):i;var f=a.parentNode;f&&11!==f.nodeType||e.unique(h[l]);var d=b[t]||I.decl(t,{},{live:!0});if(!(d._liveInitable=!!d._processLive())||s||r.live===!1){s&&i.addClass("i-bem");var _=new d(h[l],r,!!s);return delete h[l],c&&c.apply(_,C.call(arguments,4)),_}}function o(t,n,i,r){(t||(t={})).uniqId||(t.uniqId=(t.id?i+"-id-"+t.id:e.identify())+(r||e.identify()));var o=e.identify(n),s=_[o]||(_[o]={});return s[i]||(s[i]=t),t}function s(t,e,n){var i=t.find(e);return n?i:i.add(t.filter(e))}function u(t){var n=e.identify(t);return _[n]||(_[n]=c(t))}function c(t){var n,i,r=t.getAttribute("data-bem");return r?JSON.parse(r):(n=t.onclick||t.ondblclick,n||"body"!=t.tagName.toLowerCase()||(i=e(t),r=i.attr("onclick")||i.attr("ondblclick"),r&&(n=Function(r))),n?n():{})}function a(t){delete _[e.identify(t)]}function l(t,e){1===t.domElem.length?t.destruct(!0):t.domElem=t.domElem.not(e)}var f=e(window),d=e(document),h={},m={},_={},v={},p={},b=t.blocks,g=t.INTERNAL,y=g.NAME_PATTERN,x=g.MOD_DELIM,E=g.ELEM_DELIM,k=g.buildModPostfix,M=g.buildClass,C=Array.prototype.slice,N=Array.prototype.reverse;e.fn.bem=function(t,e){return r(t,this,e,!0)};var I=t.DOM=t.decl("i-bem__dom",{__constructor:function(t,n,i){var r=this;r.domElem=t,r._eventNameCache={},r._elemCache={},m[r._uniqId=n.uniqId||e.identify(r)]=r,r._needSpecialUnbind=!1,r.__base(null,n,i)},findBlocksInside:function(t,e){return this._findBlocks("find",t,e)},findBlockInside:function(t,e){return this._findBlocks("find",t,e,!0)},findBlocksOutside:function(t,e){return this._findBlocks("parents",t,e)},findBlockOutside:function(t,e){return this._findBlocks("closest",t,e)[0]||null},findBlocksOn:function(t,e){return this._findBlocks("",t,e)},findBlockOn:function(t,e){return this._findBlocks("",t,e,!0)},_findBlocks:function(t,i,o,s){if(!this.domElem)return[];o||(o=i,i=n);var u=i?"string"==typeof i?this.findElem(i):i:this.domElem,c="string"==typeof o,a=c?o:o.block||o.blockName,l="."+(c?M(a):M(a,o.modName,o.modVal))+(s?":first":""),f=u.filter(l);if(t&&(f=f.add(u[t](l))),s)return f[0]?r(a,f.eq(0),!0):null;var d=[],h={};return e.each(f,function(t,n){var i=r(a,e(n),!0);h[i._uniqId]||(h[i._uniqId]=!0,d.push(i))}),d},bindToDomElem:function(t,n,i){var r=this;return i?t.bind(r._buildEventName(n),function(t){return(t.data||(t.data={})).domElem=e(this),i.apply(r,arguments)}):e.each(n,function(e,n){r.bindToDomElem(t,e,n)}),r},bindToDoc:function(t,e){return this._needSpecialUnbind=!0,this.bindToDomElem(d,t,e)},bindToWin:function(t,e){var n,i,r=e;return"resize"===t&&(e=function(){var t=f.height(),e=f.width();(n!==t||i!==e)&&(n=t,i=e,r.apply(this,arguments))}),this._needSpecialUnbind=!0,this.bindToDomElem(f,t,e)},bindTo:function(t,n,i){return!n||e.isFunction(n)?(i=n,n=t,t=this.domElem):"string"==typeof t&&(t=this.elem(t)),this.bindToDomElem(t,n,i)},unbindFromDomElem:function(t,e){return t.unbind(this._buildEventName(e)),this},unbindFromDoc:function(t){return this.unbindFromDomElem(d,t)},unbindFromWin:function(t){return this.unbindFromDomElem(f,t)},unbindFrom:function(t,e){return e?"string"==typeof t&&(t=this.elem(t)):(e=t,t=this.domElem),this.unbindFromDomElem(t,e)},_buildEventName:function(t){var e=this;return t.indexOf(" ")>1?t.split(" ").map(function(t){return e._buildOneEventName(t)}).join(" "):e._buildOneEventName(t)},_buildOneEventName:function(t){var e=this,n=e._eventNameCache;if(t in n)return n[t];var i="."+e._uniqId;if(t.indexOf(".")<0)return n[t]=t+i;var r=".bem_"+e.__self._name;return n[t]=t.split(".").map(function(t,e){return 0==e?t+r:r+"_"+t}).join("")+i},trigger:function(t,e){return this.__base(t=this.buildEvent(t),e).domElem&&this._ctxTrigger(t,e),this},_ctxTrigger:function(t,n){var i=this,r=v[i.__self._buildCtxEventName(t.type)],o={};r&&i.domElem.each(function(){for(var s=this,u=r.counter;s&&u;){var c=e.identify(s,!0);if(c){if(o[c])break;var a=r.ctxs[c];a&&(e.each(a,function(e,r){r.fn.call(r.ctx||i,t,n)}),u--),o[c]=!0}s=s.parentNode}})},setMod:function(t,n,i){if(t&&"undefined"!=typeof i&&t.length>1){var r=this;return t.each(function(){var o=e(this);o.__bemElemName=t.__bemElemName,r.setMod(o,n,i)}),r}return this.__base(t,n,i)},_extractModVal:function(t,e,n){var i,r=(e||this.domElem)[0];return r&&(i=r.className.match(this.__self._buildModValRE(t,n||e))),i?i[2]:""},_extractMods:function(t,e){var n={},i=!t.length,r=0;return((e||this.domElem)[0].className.match(this.__self._buildModValRE("("+(i?y:t.join("|"))+")",e,"g"))||[]).forEach(function(t){var e=(t=t.trim()).lastIndexOf(x),i=t.substr(0,e-1).lastIndexOf(x);n[t.substr(i+1,e-i-1)]=t.substr(e+1),++r}),r<t.length&&t.forEach(function(t){t in n||(n[t]="")}),n},_afterSetMod:function(t,n,i,r,o){var s=this.__self,u=s._buildModClassPrefix(t,o),c=s._buildModValRE(t,o),a=""===n;(r||this.domElem).each(function(){var t=this.className;t.indexOf(u)>-1?this.className=t.replace(c,a?"":"$1"+u+n):a||e(this).addClass(u+n)}),o&&this.dropElemCache(o,t,i).dropElemCache(o,t,n)},findElem:function(t,e,n,i){arguments.length%2?(i=n,n=e,e=t,t=this.domElem):"string"==typeof t&&(t=this.findElem(t));var r=this.__self,o="."+e.split(" ").map(function(t){return M(r._name,t,n,i)}).join(",.");return s(t,o)},_elem:function(t,e,n){var i,r=t+k(e,n);return(i=this._elemCache[r])||(i=this._elemCache[r]=this.findElem(t,e,n),i.__bemElemName=t),i},elem:function(t,n,i){if(n&&"string"!=typeof n)return n.__bemElemName=t,n;if(t.indexOf(" ")<0)return this._elem(t,n,i);var r=e([]),o=this;return t.split(" ").forEach(function(t){r=r.add(o._elem(t,n,i))}),r},dropElemCache:function(t,e,n){if(t){var i=this,r=k(e,n);t.indexOf(" ")<0?delete i._elemCache[t+r]:t.split(" ").forEach(function(t){delete i._elemCache[t+r]})}else this._elemCache={};return this},elemParams:function(t){var e;return"string"==typeof t?(e=t,t=this.elem(t)):e=this.__self._extractElemNameFrom(t),c(t[0])[M(this.__self.getName(),e)]||{}},elemify:function(t,n){return(t=e(t)).__bemElemName=n,t},containsDomElem:function(t){var e=!1;return this.domElem.each(function(){return!(e=t.parents().andSelf().index(this)>-1)}),e},buildSelector:function(t,e,n){return this.__self.buildSelector(t,e,n)},destruct:function(t){var n=this,i=n.__self;n._isDestructing||(n._isDestructing=!0,n._needSpecialUnbind&&i.doc.add(i.win).unbind("."+n._uniqId),n.dropElemCache().domElem.each(function(t,n){var i=u(n);e.each(i,function(t,e){var i=m[e.uniqId];i?i._isDestructing||l(i,n):delete h[e.uniqId]}),a(n)}),t||n.domElem.remove(),delete m[n.un()._uniqId],delete n.domElem,delete n._elemCache,n.__base())}},{scope:null,doc:d,win:f,_processLive:function(t){var e=this,n=e._liveInitable;if("live"in e){var i="undefined"==typeof n;if(i^t){n=e.live()!==!1;var r=e.getName(),o=e.live;e.live=function(){return this.getName()===r?n:o.apply(this,arguments)}}}return n},init:function(t,n,r){(!t||e.isFunction(t))&&(r=n,n=t,t=d);var o=e.identify();return s(t,".i-bem").each(function(){i(e(this),o)}),n&&this.afterCurrentEvent(function(){n.call(r||this,t)}),this._runAfterCurrentEventFns(),t},destruct:function(t,i,r){"boolean"!=typeof t&&(r=i,i=t,t=n),N.call(s(i,".i-bem",r)).each(function(t,n){var i=u(this);e.each(i,function(t,e){if(e.uniqId){var i=m[e.uniqId];i?l(i,n):delete h[e.uniqId]}}),a(this)}),t||(r?i.empty():i.remove())},update:function(t,e,n,i){return this.destruct(t,!0),this.init(t.html(e),n,i)},replace:function(t,n){return this.destruct(!0,t),this.init(e(n).replaceAll(t))},append:function(t,n){return this.init(e(n).appendTo(t))},prepend:function(t,n){return this.init(e(n).prependTo(t))},before:function(t,n){return this.init(e(n).insertBefore(t))},after:function(t,n){return this.init(e(n).insertAfter(t))},_buildCtxEventName:function(t){return this._name+":"+t},_liveClassBind:function(t,n,i,r){var o=this;if(n.indexOf(" ")>-1)n.split(" ").forEach(function(e){o._liveClassBind(t,e,i,r)});else{var s=p[n],u=e.identify(i);s||(s=p[n]={},d.bind(n,o.changeThis(o._liveClassTrigger,o))),s=s[t]||(s[t]={uniqIds:{},fns:[]}),u in s.uniqIds||(s.fns.push({uniqId:u,fn:o._buildLiveEventFn(i,r)}),s.uniqIds[u]=s.fns.length-1)}return this},_liveClassUnbind:function(t,n,i){var r=p[n];if(r)if(i){if(r=r[t]){var o=e.identify(i);if(o in r.uniqIds){var s=r.uniqIds[o],u=r.fns.length-1;for(r.fns.splice(s,1);u>s;)r.uniqIds[r.fns[s++].uniqId]=s-1;delete r.uniqIds[o]}}}else delete r[t];return this},_liveClassTrigger:function(t){var n=p[t.type];if(n){var i=t.target,r=[];for(var o in n)n.hasOwnProperty(o)&&r.push(o);do for(var s=" "+i.className+" ",u=0;o=r[u++];)if(s.indexOf(" "+o+" ")>-1){for(var c,a=0,l=n[o].fns,f=!1;c=l[a++];)c.fn.call(e(i),t)===!1&&(f=!0);if(f&&t.preventDefault(),f||t.isPropagationStopped())return;
r.splice(--u,1)}while(r.length&&(i=i.parentNode))}},_buildLiveEventFn:function(t,n){var i=this;return function(o){var s=[i._name,((o.data||(o.data={})).domElem=e(this)).closest(i.buildSelector()),!0],u=r.apply(null,n?s.concat([t,o]):s);return u&&!n&&t?t.apply(u,arguments):void 0}},liveInitOnEvent:function(t,e,n){return this.liveBindTo(t,e,n,!0)},liveBindTo:function(t,i,r,o){(!i||e.isFunction(i))&&(r=i,i=t,t=n),t&&"string"!=typeof t||(t={elem:t}),t.elemName&&(t.elem=t.elemName);var s=this;return t.elem&&t.elem.indexOf(" ")>0?(t.elem.split(" ").forEach(function(e){s._liveClassBind(M(s._name,e,t.modName,t.modVal),i,r,o)}),s):s._liveClassBind(M(s._name,t.elem,t.modName,t.modVal),i,r,o)},liveUnbindFrom:function(t,i,r){(!i||e.isFunction(i))&&(r=i,i=t,t=n);var o=this;return t&&t.indexOf(" ")>1?(t.split(" ").forEach(function(t){o._liveClassUnbind(M(o._name,t),i,r)}),o):o._liveClassUnbind(M(o._name,t),i,r)},_liveInitOnBlockEvent:function(t,e,n,i){var r=this._name;return b[e].on(t,function(t){if(t.block.domElem){var e=arguments,o=t.block[i](r);n&&o.forEach(function(t){n.apply(t,e)})}}),this},liveInitOnBlockEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOn")},liveInitOnBlockInsideEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOutside")},liveInitOnBlockInit:function(t,e){return this.liveInitOnBlockEvent("init",t,e)},liveInitOnBlockInsideInit:function(t,e){return this.liveInitOnBlockInsideEvent("init",t,e)},on:function(t,e,n,i,r){return t.jquery?this._liveCtxBind(t,e,n,i,r):this.__base(t,e,n,i)},un:function(t,e,n,i){return t.jquery?this._liveCtxUnbind(t,e,n,i):this.__base(t,e,n)},liveCtxBind:function(t,e,n,i,r){return this._liveCtxBind(t,e,n,i,r)},_liveCtxBind:function(t,i,r,o,s){var u=this;if("string"==typeof i)if(e.isFunction(r)&&(s=o,o=r,r=n),i.indexOf(" ")>-1)i.split(" ").forEach(function(e){u._liveCtxBind(t,e,r,o,s)});else{var c=u._buildCtxEventName(i),a=v[c]||(v[c]={counter:0,ctxs:{}});t.each(function(){var t=e.identify(this),n=a.ctxs[t];n||(n=a.ctxs[t]={},++a.counter),n[e.identify(o)+(s?e.identify(s):"")]={fn:o,data:r,ctx:s}})}else e.each(i,function(e,n){u._liveCtxBind(t,e,n,r)});return u},liveCtxUnbind:function(t,e,n,i){return this._liveCtxUnbind(t,e,n,i)},_liveCtxUnbind:function(t,n,i,r){var o=this,s=v[n=o._buildCtxEventName(n)];return s&&(t.each(function(){var t,n=e.identify(this,!0);n&&(t=s.ctxs[n])&&(i&&delete t[e.identify(i)+(r?e.identify(r):"")],(!i||e.isEmptyObject(t))&&(s.counter--,delete s.ctxs[n]))}),s.counter||delete v[n]),o},_extractElemNameFrom:function(t){if(t.__bemElemName)return t.__bemElemName;var e=t[0].className.match(this._buildElemNameRE());return e?e[1]:n},extractParams:c,_buildModClassPrefix:function(t,e){return M(this._name)+(e?E+("string"==typeof e?e:this._extractElemNameFrom(e)):"")+x+t+x},_buildModValRE:function(t,e,n){return new RegExp("(\\s|^)"+this._buildModClassPrefix(t,e)+"("+y+")(?=\\s|$)",n)},_buildElemNameRE:function(){return new RegExp(this._name+E+"("+y+")(?:\\s|$)")},buildSelector:function(t,e,n){return"."+M(this._name,t,e,n)},getBlockByUniqId:function(t){return m[t]},getWindowSize:function(){return{width:f.width(),height:f.height()}}});e(function(){t.DOM.scope=e("body")})}(BEM,jQuery),function(){String.prototype.trim||(String.prototype.trim=function(){for(var t=this.replace(/^\s\s*/,""),e=/\s/,n=t.length;e.test(t.charAt(--n)););return t.slice(0,n+1)})}(),function(t){if(!window.JSON){var e,n=Object.prototype.toString,i=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};window.JSON={stringify:e=function(o){if(null===o)return"null";if("undefined"==typeof o)return t;switch(n.call(o)){case"[object String]":return i.lastIndex=0,'"'+(i.test(o)?o.replace(i,function(t){var e=r[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}):o)+'"';case"[object Number]":case"[object Boolean]":return""+o;case"[object Array]":for(var s,u="[",c=0,a=o.length;a>c;)s=e(o[c]),u+=(c++?",":"")+("undefined"==typeof s?"null":s);return u+"]";case"[object Object]":if("[object Function]"===n.call(o.toJSON))return e(o.toJSON());var s,u="{",c=0;for(var l in o)o.hasOwnProperty(l)&&(s=e(o[l]),"undefined"!=typeof s&&(u+=(c++?",":"")+'"'+l+'":'+s));return u+"}";default:return t}},parse:function(t){return Function("return "+t)()}}}}(),$(function(){BEM.afterCurrentEvent(function(){BEM.DOM.init()})}),function(t){var e=1,n=!1;if("deviceXDPI"in screen&&"logicalXDPI"in screen?e=screen.deviceXDPI/screen.logicalXDPI:"devicePixelRatio"in t&&(e=t.devicePixelRatio),"function"==typeof t.matchMedia){var i="only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx), only screen and (min-resolution: 124dpi)";n=t.matchMedia(i).matches}else n=e>=1.3;BEM.DOM.decl("i-ua",{onSetMod:{js:function(){var t=this,e=t.__self;e.hiDpi&&t.setMod("hi-dpi","yes")}}},{dpr:e,hiDpi:n})}(window),function(t){var e=t.event.special.leftclick={setup:function(){t(this).bind("click",e.handler)},teardown:function(){t(this).unbind("click",e.handler)},handler:function(e){e.button||(e.type="leftclick",t.event.dispatch.apply(this,arguments),e.type="click")}}}(jQuery),function(){var t={9:"tab",13:"enter",32:"space",33:"page up",34:"page down",35:"end",36:"home",37:"left arrow",38:"up arrow",39:"right arrow",40:"down arrow",46:"delete"},e={27:"escape"};BEM.DOM.decl({block:"i-ua",modName:"interaction",modVal:"yes"},{_onPointer:function(){this.interaction="pointer",this.domElem.attr("data-interaction","pointer"),this.__self.liveUnbindFrom("mousedown",this._onPointer)},_onKeyboard:function(n){var i=n.keyCode;return e[i]?void this._onPointer():void(t[i]&&"keyboard"!==this.interaction&&(this.domElem.attr("data-interaction","keyboard"),this.interaction="keyboard",this.__self.liveBindTo("mousedown",this._onPointer)))}},{live:function(){this.liveBindTo("mousedown",this.prototype._onPointer).liveBindTo("keydown",this.prototype._onKeyboard)}})}(),BEM.DOM.decl("button",{onSetMod:{js:function(){this._control=this.elem("control").length&&this.elem("control")||this.domElem},focused:{yes:function(){this.bindToWin("unload",function(){this.delMod("focused")}).bindTo("keydown",this._onKeyDown),this._control.focus()},"":function(){this.unbindFromWin("unload").unbindFrom("keydown"),this._control.blur()}},pressed:function(){this.setMod("focused","yes")}},_onKeyDown:function(t){var e=t.keyCode;13!==e&&32!==e||this._keyDowned||(this._keyDowned=!0,this.setMod("pressed","yes").bindTo("keyup",function(){this.delMod("pressed").unbindFrom("keyup"),delete this._keyDowned}))}},{live:function(){var t={mouseover:{name:"hovered",val:"yes"},mouseout:{name:"hovered"},mousedown:{name:"pressed",val:"yes"},mouseup:{name:"pressed"},focusin:{name:"focused",val:"yes"},focusout:{name:"focused"}};this.liveBindTo("mouseover mouseout mouseup focusin focusout",function(e){var n=t[e.type];this.setMod(n.name,n.val||"")}).liveBindTo("mousedown",function(e){var n=t[e.type];1===e.which&&this.setMod(n.name,n.val||"")})}}),BEM.DOM.decl("checkbox",{onSetMod:{js:function(){this.setMod("checked",this.elem("control").prop("checked")?"yes":""),this._isControlFocused()&&this.setMod("focused","yes")},focused:{yes:function(){return this.isDisabled()?!1:(this._isControlFocused()||this.elem("control").focus(),this.setMod(this.elem("box"),"focused","yes"),void this.afterCurrentEvent(function(){this.trigger("focus")}))},"":function(){this._isControlFocused()&&this.elem("control").blur(),this.delMod(this.elem("box"),"focused"),this.afterCurrentEvent(function(){this.trigger("blur")})}},checked:function(t,e){return this.isDisabled()?!1:(this.elem("control").prop("checked","yes"===e),this.afterCurrentEvent(function(){this.trigger("change",{checked:"yes"===e})}),void this.setMod(this.elem("box"),"checked",e))},disabled:function(t,e){this.elem("control").prop("disabled","yes"===e)}},isDisabled:function(){return this.hasMod("disabled","yes")},isChecked:function(){return this.hasMod("checked","yes")},toggle:function(){this.toggleMod("checked","yes","")},val:function(t){var e=this.elem("control");return"undefined"==typeof t?e.val():(e.val(t),this)},_onClick:function(t){this.isDisabled()||(t.target!==this.elem("control")[0]&&(t.preventDefault(),this.toggle()),this.setMod("focused","yes"))},_onChange:function(t){t.target.checked?this.setMod("checked","yes"):this.delMod("checked")},_onFocusInFocusOut:function(t){this.setMod("focused","focusin"===t.type?"yes":"")},_onMouseOverMouseOut:function(t){this.isDisabled()||this.setMod("hovered","mouseover"===t.type?"yes":"")},_isControlFocused:function(){try{return this.containsDomElem($(this.__self.doc[0].activeElement))}catch(t){return!1}}},{live:function(){return this.liveBindTo("leftclick tap",function(t){this._onClick(t)}).liveBindTo("control","change",function(t){this._onChange(t)}).liveBindTo("control","focusin focusout",function(t){this._onFocusInFocusOut(t)}).liveBindTo("mouseover mouseout",function(t){this._onMouseOverMouseOut(t)}),!1}});