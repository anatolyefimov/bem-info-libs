<h2 id="-">Описание</h2>
<p>Блок-помощник для построения абстрактного меню.</p>
<p>Содержит js-функциональность, которая используется в блоках <code>b-menu-vert</code> и <code>b-menu-horiz</code>.</p>
<p>Слушает событие <code>leftclick</code> на элементе <code>item-selector</code> и переводит в <code>{ state: &#39;current&#39; }</code> тот элемент <code>item</code>,
на котором произошло событие.</p>
<p>Тригерит событие которое можно использовать из других блоков, использующее любое меню.</p>

<h2 id="-">Описание</h2>
<p>Блок <strong>b-menu-horiz</strong> создаёт <strong>HTML</strong>-разметку для горизонтального меню. Кроме того, у блока есть <strong>JavaScript</strong>-функциональность, позволяющая создавать скрипты с реакцией на выбор пункта меню.</p>
<p>Сложность <strong>HTML</strong>-разметки меню зависит от модификатора, с которым используется блок.</p>
<p><strong>Важно:</strong> Блок не может использоваться без модификатора <code>layout</code>.</p>
<p>Модификатор блока <code>layout</code> реализован с тремя возможными значениями:</p>
<ul>
<li><code>horiz</code></li>
<li><code>complex</code></li>
<li><code>normal</code></li>
</ul>
<h3 id="-">Варианты использования</h3>
<ul>
<li>Простое горизонтальное меню списком</li>
<li>Горизонтальное меню с клиентской функциональностью</li>
<li>Меню без подмешивания блока i-bem </li>
<li>Горизонтальное меню простыми ссылками</li>
</ul>
<h2 id="-">Объявление блока на странице</h2>
<p>Описанные ниже варианты деклараций блока в BEMJSON-файле представлены в разделе &quot;Примеры&quot;.</p>
<h2 id="-">Элементы блока</h2>
<h3 id="__item">__item</h3>
<p>Элемент меню<br><code>{ elem: &#39;item&#39; }</code>
Содержанием элементов меню может быть что угодно: ссылки на страницы, псевдоссылки, иконки и вообще любые блоки.</p>
<h3 id="__title">__title</h3>
<p>Элемент служит для отображения заголовка меню. 
<code>{ elem: &#39;title&#39; }</code>
В <strong>BEMJSON</strong> необходимо указать свойство <code>title</code>.</p>
<pre><code class="lang-js">{
  block: &#39;b-menu-vert&#39;,
  title: {
    elem: &#39;title&#39;,
    content: &#39;Menu title&#39;
  },
  content: { ... }
}
</code></pre>
<h3 id="__separator">__separator</h3>
<p>Специальный символ, который разделяет пункты меню
<code>{ elem: &#39;separator&#39; }</code></p>
<h3 id="__item-selector">__item-selector</h3>
<h2 id="-">Модификаторы</h2>
<h3 id="_layout">_layout</h3>
<p><code>_layout_complex</code><br>Горизонтальное меню с табличной разметкой<br><code>{ mods: { &#39;layout&#39;: &#39;complex&#39; } }</code><br>Использование блока с модификатором <code>{ layout: &#39;complex&#39; }</code> принципиально ничем не отличается. Для блока в такой модификации создаётся разметка на основе таблицы. Такое решение может потребоваться при некоторых дизайнах.</p>
<h3 id="_layout_normal">_layout_normal</h3>
<p><strong>Простое горизонтальное меню списком</strong><br><code>{ mods: { &#39;layout&#39;: &#39;normal&#39; } }</code><br>Входные данные для блока с любым из этих модификаторов похожи: нужно описать блок, модификатор <code>layout</code>, в качестве свойства <code>content</code> блока перечислить пункты меню, которые выражаются элементами <code>item</code>.</p>
<pre><code>{
  block: &#39;b-menu-horiz&#39;,
  mods: { layout: &#39;normal&#39; },
  content: [
    {
      elem: &#39;item&#39;,
      content: &#39;Home&#39;
    },
    {
      elem: &#39;item&#39;,
      content: &#39;Office&#39;
    },
    ...
  ]
}
</code></pre><p>Не всегда меню на сайте подразумевает ссылки, уводящие пользователя на другую страницу. Меню может использоваться и для клиентского JavaScript-приложения. В этом случае содержанием пунктов меню обычно бывают псевдоссылки:</p>
<pre><code>{
    elem: &#39;item&#39;,
    elemMods: { &#39;state&#39; : &#39;current&#39; },
        content: {
        block: &#39;b-link&#39;,
        mods : { &#39;pseudo&#39; : &#39;yes&#39; },
        url: &#39;/&#39;,
        content: &#39;First point&#39;
    }
}
</code></pre><p><strong>Горизонтальное меню с клиентской функциональностью</strong></p>
<p>Не всегда меню на сайте подразумевает ссылки, уводящие пользователя на другую страницу. Меню может использоваться и для клиентского JavaScript-приложения. В этом случае содержанием пунктов меню обычно бывают псевдоссылки:</p>
<pre><code>{
  block: &#39;b-menu-horiz&#39;,
  mods: { layout: &#39;normal&#39; },
  title: {
    elem: &#39;title&#39;, content: &#39;Navigation:&#39;
  },
  content: [
    {
      elem: &#39;item&#39;,
      elemMods: { state: &#39;current&#39; },
      content: {
        block: &#39;b-link&#39;,
        mods: { pseudo: &#39;yes&#39; },
        url: &#39;/&#39;,
        content: &#39;Home&#39;
      }
    },
    { ... }
  ]
}
</code></pre><p>Приведённый выше BEMJSON блока обеспечит нужный внешний вид.
Кроме этого нужно, чтобы у меню были области, реагирующие на клик. В данном случае они совпадают с псевдоссылками, поэтому можно применить смешивание блоков (<code>mix</code>). BEMJSON-декларация доступна в разделе &quot;Примеры&quot;.</p>
<p>При явном использовании этот элемент представлен в DOM в виде <code>span</code>, в который можно положить блоки, составляющие пункт меню. Если же содержание пункта меню состоит всего из одного блока (как в примере с псевдоссылками), для экономии разметки разумно применять <code>mix</code>.</p>
<p>Кроме того, что соответствующий элемент <code>item</code> в результате клика приобретает модификатор <code>{ state: &#39;current&#39; }</code>, на BEM-объекте блока возникает событие <code>current</code>, сопровождающееся данными о текущем и предыдущем активных пунктах. В своём JavaScript-приложении можно реагировать на это событие.</p>
<p>В HTML по умолчанию блок представлен как имеющий JavaScript-реализацию (он смешан с блоком <code>i-bem</code> и имеет соответствующие параметры в атрибуте <code>data-bem</code>). Но если в блоке отсутствуют элементы <code>item-selector</code>, BEM-объект блока не создаётся.</p>
<p><strong>Меню без подмешивания блока i-bem</strong></p>
<p>Примешивание блока <code>i-bem</code> можно устранить, указав в свойстве js-блока значение <code>false</code>.</p>
<pre><code>{
  block: &#39;b-menu-horiz&#39;,
  js: false,
  mods: { layout: &#39;normal&#39; },
  content: [
    {
      elem: &#39;item&#39;,
      content: {
        block: &#39;b-link&#39;, url: &#39;/&#39;, content: &#39;Home&#39;
      }
    },
    { ... }
  ]
}
</code></pre><h3 id="_layout_simple">_layout_simple</h3>
<p><strong>Горизонтальное меню простыми ссылками</strong><br><code>{ mods: { &#39;layout&#39;: &#39;simple&#39; } }</code><br>В некоторых случаях для вывода меню не нужны даже DOM-узлы списка, а достаточно просто перечислить ссылки, разделив их пробелом, запятой или каким-либо специальным символом.</p>
<p>Для вывода такого меню подходит реализация блока с модификатором <code>{ layout: &#39;simple&#39; }</code>.</p>
<p>BEMJSON меню отличается наличием свойства <code>separator</code> — того самого специального символа, который разделяет пункты меню.
Активный пункт меню в данном примере представлен в виде простого текста в теге <code>span</code>.</p>
<h3 id="__item_state_current">__item_state_current</h3>
<p><code>{ elemMods: { state: &#39;current&#39; } }</code>
Этот модификатор помечает текущий пункт меню.</p>
<p>На своём уровне переопределения можно реализовать для такого модификатора CSS-правила, по которым текущий пункт меню будет визуально отличаться от остальных.</p>
<pre><code>{
    elem: &#39;item&#39;,
    elemMods: { state: &#39;current&#39; },
    content: &#39;Home&#39;
}
</code></pre><p>JavaScript-код блока реализован так, что активный пункт меню переключается при клике левой кнопкой мыши на соответствующем элементе <code>item-selector</code>.</p>

<p>Использование блока с модификатором <code>{ layout: &#39;complex&#39; }</code> принципиально ничем не отличается.<br>Для блока в такой модификации создаётся разметка на основе таблицы. Такое решение может потребоваться при некоторых дизайнах.</p>

<p>Входные данные для блока с любым из этих модификаторов похожи: нужно описать блок, модификатор <code>layout</code>, в качестве свойства <code>content</code> блока перечислить пункты меню, которые выражаются элементами <code>item</code>:</p>
<pre><code class="lang-js">{
  block: &#39;b-menu-horiz&#39;,
  mods: { layout: &#39;normal&#39; },
  content: [
    {
      elem: &#39;item&#39;,
      content: &#39;Home&#39;
    },
    {
      elem: &#39;item&#39;,
      content: &#39;Office&#39;
    },
    ...
  ]
}
</code></pre>
<p>Содержанием элементов меню может быть что угодно: ссылки на страницы, псевдоссылки, иконки и вообще любые блоки. В примере выше каждый пункт меню — это просто строка текста.</p>
<p>Такое же меню со ссылками будет выглядеть следующим образом:</p>
<pre><code class="lang-js">{
  block: &#39;b-menu-horiz&#39;,
  mods: { layout: &#39;normal&#39; },
  content: [
    {
      elem: &#39;item&#39;,
      content: {
        block: &#39;b-link&#39;, url: &#39;/&#39;, content: &#39;Home&#39;
      }
    },
    {
      elem: &#39;item&#39;,
      content: {
        block: &#39;b-link&#39;, url: &#39;/office&#39;, content: &#39;Office&#39;
      }
    },
    ...
  ]
}
</code></pre>
<p>Кроме того, у одного из пунктов меню может быть указан модификатор <code>{ state: &#39;current&#39; }</code>, этот модификатор помечает текущий пункт меню.</p>
<p>На своём уровне переопределения можно реализовать для такого модификатора <strong>CSS</strong> правила, по которым текущий пункт меню будет визуально отличаться от остальных.</p>
<p>У меню также может быть необязательное свойство <code>title</code>, содержащее описание элемента <code>title</code> — заголовка меню.</p>
<p>Для меню с заголовком <strong>BEMJSON</strong> будет такой:</p>
<pre><code class="lang-js">{
  block: &#39;b-menu-horiz&#39;,
  mods: { layout: &#39;normal&#39; },
  title: {
    elem: &#39;title&#39;, content: &#39;Navigation:&#39;
  },
  content: [
    {
      elem: &#39;item&#39;,
      elemMods: { state: &#39;current&#39; },
      content: {
        block: &#39;b-link&#39;, url: &#39;/&#39;, content: &#39;Home&#39;
      }
    },
    {
      elem: &#39;item&#39;,
      content: {
        block: &#39;b-link&#39;, url: &#39;/office&#39;, content: &#39;Office&#39;
      }
    },
    ...
  ]
}
</code></pre>
<h4 id="-">Горизонтальное меню с клиентской функциональностью</h4>
<p>Не всегда меню на сайте подразумевает ссылки, уводящие пользователя на другую страницу. Меню может использоваться и для клиентского <strong>JavaScript</strong>-приложения.
В этом случае содержанием пунктов меню обычно бывают псевдоссылки:</p>
<pre><code class="lang-js">{
  block: &#39;b-menu-horiz&#39;,
  mods: { layout: &#39;normal&#39; },
  title: {
    elem: &#39;title&#39;, content: &#39;Navigation:&#39;
  },
  content: [
    {
      elem: &#39;item&#39;,
      elemMods: { state: &#39;current&#39; },
      content: {
        block: &#39;b-link&#39;,
        mods: { pseudo: &#39;yes&#39; },
        url: &#39;/&#39;,
        content: &#39;Home&#39;
      }
    },
    {
      elem: &#39;item&#39;,
      content: {
        block: &#39;b-link&#39;,
        mods: { pseudo: &#39;yes&#39; },
        url: &#39;/office&#39;,
        content: &#39;Office&#39;
      }
    },
    ...
  ]
}
</code></pre>
<p>Приведённый выше <strong>BEMJSON</strong> блока обеспечит нужный внешний вид.</p>
<p>Кроме этого нужно, чтобы у меню были области, реагирующие на клик. В данном случае они совпадают с псевдоссылками, поэтому можно применить смешивание блоков (<code>mix</code>):</p>
<pre><code class="lang-js">{
  block: &#39;b-menu-horiz&#39;,
  mods: { layout: &#39;normal&#39; },
  title: {
    elem: &#39;title&#39;, content: &#39;Navigation:&#39;
  },
  content: [
    {
      elem: &#39;item&#39;,
      elemMods: { state: &#39;current&#39; },
      content: {
        block: &#39;b-link&#39;,
        mods: { pseudo: &#39;yes&#39; },
        mix: [{ block: &#39;b-menu-horiz&#39;, elem : &#39;item-selector&#39; }],
        url: &#39;/&#39;,
        content: &#39;Home&#39;
      }
    },
    {
      elem: &#39;item&#39;,
      content: {
        block: &#39;b-link&#39;,
        mods: { pseudo: &#39;yes&#39; },
        mix: [{ block: &#39;b-menu-horiz&#39;, elem : &#39;item-selector&#39; }],
        url: &#39;/office&#39;,
        content: &#39;Office&#39;
      }
    },
    ...
  ]
}
</code></pre>
<p><strong>JavaScript</strong>-код блока реализован так, что активный пункт меню переключается при клике левой кнопкой мыши на соответствующем элементе <code>item-selector</code>.</p>
<p>При явном использовании этот элемент представлен в <strong>DOM</strong> в виде <code>span</code>, в который можно положить блоки, составляющие пункт меню. Если же содержание пункта меню состоит всего из
одного блока (как в примере с псевдоссылками), для экономии разметки разумно применять <code>mix</code>.</p>
<p>Кроме того, что соответствующий элемент <code>item</code> в результате клика приобретает модификатор <code>{ state: &#39;current&#39; }</code>, на <strong>BEM</strong>-объекте блока возникает событие <code>current</code>, сопровождающееся данными о текущем и предыдущем активных пунктах.
В своём <strong>JavaScript</strong>-приложении можно реагировать на это событие.</p>
<p>В <strong>HTML</strong> по умолчанию блок представлен как имеющий <strong>JavaScript</strong>-реализацию (он смешан с блоком <code>i-bem</code> и
имеет соответствующие параметры в атрибуте <code>data-bem</code>). Но если в блоке отсутствуют элементы <code>item-selector</code>, <strong>BEM</strong>-объект блока не создаётся.</p>
<h4 id="-i-bem">Меню без подмешивания блока i-bem</h4>
<pre><code class="lang-js">{
  block: &#39;b-menu-horiz&#39;,
  js: false,
  mods: { layout: &#39;normal&#39; },
  content: [
    {
      elem: &#39;item&#39;,
      content: {
        block: &#39;b-link&#39;, url: &#39;/&#39;, content: &#39;Home&#39;
      }
    },
    {
      elem: &#39;item&#39;,
      content: {
        block: &#39;b-link&#39;, url: &#39;/office&#39;, content: &#39;Office&#39;
      }
    },
    ...
  ]
}
</code></pre>
<p>Примешивание блока <code>i-bem</code> можно устранить, указав в свойстве <code>js</code> блока значение <code>false</code>.</p>

<p>В некоторых случаях для вывода меню не нужны даже <strong>DOM</strong>-узлы списка, а достаточно просто перечислить ссылки, разделив их пробелом, запятой или каким-либо специальным символом.</p>
<p>Для вывода такого меню подходит реализация с модификатором <code>{ layout: &#39;normal&#39; }</code>:</p>
<pre><code class="lang-js">{
  block: &#39;b-menu-horiz&#39;,
  mods: { layout: &#39;simple&#39; },
  separator: &#39; | &#39;,
  content: [
    {
      elem: &#39;item&#39;,
      elemMods: { state: &#39;current&#39; },
      content: &#39;Home&#39;
    },
    {
      elem: &#39;item&#39;,
      content: {
      block: &#39;b-link&#39;,
      url: &#39;/&#39;,
      content: &#39;Products&#39;
    },
    ...
  ]
}
</code></pre>
<p><strong>BEMJSON</strong>-меню отличается наличием свойства <code>separator</code> — того самого специального символа, который разделяет пункты меню.</p>
<p>Активный пункт меню в данном примере представлен в виде простого текста в теге <code>span</code>.</p>
