<!doctype html><html class="page__root"><head><meta charset="utf-8"/><title></title><link rel="stylesheet" href="../.dist/dist.css"/><script src="//yandex.st/jquery/1.8.2/jquery.min.js"></script><script src="../.dist/dist.js"></script></head><body class="page"><div class="catalogue"><div class="block"><div class="header"><a class="link link_pos_right" href="../index/index.html">← каталог</a><span class="header__block-name">Блок i-geolocation</span></div><div class="block__title"></div><div class="block__description static-text"><h2 id="-">Описание</h2>
<p>Обёртка над <strong>Geolocation API</strong> для получения информации о текущем местоположении пользователя.</p>
<p>Если всё хорошо, статический метод <code>get()</code> вернёт в колбэк объект со следующими данными:</p>
<ul>
<li><code>latitude</code> - широта, градусы;</li>
<li><code>longitude</code> - долгота, градусы;</li>
<li><code>altitude</code> -  высота над уровнем моря, м;</li>
<li><code>altitudeAccuracy</code> - точность определения высоты, м;</li>
<li><code>speed</code> - скорость движения, м/с;</li>
<li><code>heading</code> - направление движения, в градусах относительно географического севера;</li>
<li><code>accuracy</code> - точность, м;</li>
<li><code>timestamp</code> - время, <strong>DOMTimeStamp</strong>;</li>
</ul>
<p>Если всё плохо, статический метод <code>get()</code> вернёт в колбэк объект с кодом ошибки:</p>
<ul>
<li>1 - браузер не поддерживает <strong>Geolocation API</strong>;</li>
<li>2 - пользователь отклонил запрос на получение текущего местоположения;</li>
<li>3 - невозможно получить данные / нет ответа от спутников;</li>
<li>4 - таймаут;</li>
<li>5 - что-то ещё пошло не так / неизвестная ошибка;</li>
</ul>
<p>Параметры:</p>
<ul>
<li><code>enableHighAccuracy</code> - если есть и активирован полноценный GPS, то полученные данные будут более точные (по умолчанию <code>true</code>);</li>
<li><code>timeout</code> - таймаут геозапроса, в секундах (по умолчанию 15);</li>
<li><code>cacheTime</code> - время кэширования геозапроса, в течение которого полученные данные считаются актуальными, в минутах (по умолчанию 15);</li>
</ul>
<p>Пример использования:</p>
<pre><code class="lang-js">    ...
    BEM.blocks[&#39;i-geolocation&#39;].get(params, function(data) {
        if (data.error) {
            ...
        } else {
            ...
        }
    });
    ...
</code></pre>
</div><div class="block__examples"></div></div></div></body></html>