<!doctype html><html class="page__root"><head><meta charset="utf-8"/><title></title><link rel="stylesheet" href="../undefined/_undefined.css"/><script src="//yandex.st/jquery/1.8.2/jquery.min.js"></script><script src="../undefined/_undefined.js"></script></head><body class="page"><div class="catalogue"><div class="block"><div class="header"><a class="link link_pos_right" href="../index/index.html">← каталог</a><span class="header__block-name">Блок b-menu-horiz</span></div><div class="block__title"></div><div class="block__description static-text"><p>﻿Блок ##b-menu-horiz## создаёт ##HTML## разметку для горизонтального меню. Кроме того,
у блока есть ##JavaScript## функциональность, позволяющая создавать скрипты с реакцией на
выбор пункта меню.</p>
<p>Сложность ##HTML## разметки меню зависит от модификатора, с которым используется блок.</p>
<p>Реализован модификатор блока ##layout## с тремя возможными значениями:</p>
<ul>
<li><h2 id="horiz">horiz</h2>
</li>
<li><h2 id="complex">complex</h2>
</li>
<li><h2 id="normal">normal</h2>
</li>
</ul>
<p><strong>Важно:</strong> Без модификатоора  ##layout## блок использоваться не может.</p>
<p>﻿Использование блока с модификатором ##{ layout: &#39;complex&#39; }## принципиально ничем не отличается.
Для блока в такой модификации создаётся разметка на основе таблицы. Такое решение может
потребоваться при некоторых дизайнах.</p>
<p>﻿Входные данные для блока с любым из этих модификаторов похожи: нужно описать блок, модификатор</p>
<h2 id="layout-content-">layout##, в качестве свойства ##content## блока перечислить пункты меню, которые выражаются</h2>
<p>элементами ##item##:
%%hl js
{
  block: &#39;b-menu-horiz&#39;,
  mods: { layout: &#39;normal&#39; },
  content: [
    {
      elem: &#39;item&#39;,
      content: &#39;Home&#39;
    },
    {
      elem: &#39;item&#39;,
      content: &#39;Office&#39;
    },
    ...
  ]
}
%%</p>
<p>Содержанием элементов меню может быть что угодно: ссылки на страницы, псевдоссылки,
иконки и вообще любые блоки. В примере выше каждый пункт меню — это просто строка текста.</p>
<p>Такое же меню со ссылками будет выглядеть следующим образом:
%%hl js
{
  block: &#39;b-menu-horiz&#39;,
  mods: { layout: &#39;normal&#39; },
  content: [
    {
      elem: &#39;item&#39;,
      content: {
        block: &#39;b-link&#39;, url: &#39;/&#39;, content: &#39;Home&#39;
      }
    },
    {
      elem: &#39;item&#39;,
      content: {
        block: &#39;b-link&#39;, url: &#39;/office&#39;, content: &#39;Office&#39;
      }
    },
    ...
  ]
}
%%</p>
<p>Кроме того, у одного из пунктов меню может быть указан модификатор ##{ state: &#39;current&#39; }##,
этот модификатор помечает текущий пункт меню.</p>
<p>На своём уровне переопределения можно реализовать для такого модификатора ##CSS## правила, по
которым текущий пункт меню будет визуально отличаться от остальных.</p>
<p>У меню также может быть необязательное свойство ##title##, содержащее описание элемента</p>
<h2 id="title-">title## — заголовка меню.</h2>
<p>Для меню с заголовком ##BEMJSON## будет такой:
%%hl js
{
  block: &#39;b-menu-horiz&#39;,
  mods: { layout: &#39;normal&#39; },
  title: {
    elem: &#39;title&#39;, content: &#39;Navigation:&#39;
  },
  content: [
    {
      elem: &#39;item&#39;,
      elemMods: { state: &#39;current&#39; },
      content: {
        block: &#39;b-link&#39;, url: &#39;/&#39;, content: &#39;Home&#39;
      }
    },
    {
      elem: &#39;item&#39;,
      content: {
        block: &#39;b-link&#39;, url: &#39;/office&#39;, content: &#39;Office&#39;
      }
    },
    ...
  ]
}
%%</p>
<p>==== Горизонтальное меню с клиентской функциональностью</p>
<p>Не всегда меню на сайте подразумевает ссылки, уводящие пользователя на другую
страницу. Меню может использоваться и для клиентского ##JavaScript## приложения.
В этом случае содержанием пунктов меню обычно бывают псевдоссылки:</p>
<p>%%hl js
{
  block: &#39;b-menu-horiz&#39;,
  mods: { layout: &#39;normal&#39; },
  title: {
    elem: &#39;title&#39;, content: &#39;Navigation:&#39;
  },
  content: [
    {
      elem: &#39;item&#39;,
      elemMods: { state: &#39;current&#39; },
      content: {
        block: &#39;b-link&#39;,
        mods: { pseudo: &#39;yes&#39; },
        url: &#39;/&#39;,
        content: &#39;Home&#39;
      }
    },
    {
      elem: &#39;item&#39;,
      content: {
        block: &#39;b-link&#39;,
        mods: { pseudo: &#39;yes&#39; },
        url: &#39;/office&#39;,
        content: &#39;Office&#39;
      }
    },
    ...
  ]
}
%%</p>
<p>Приведённый выше ##BEMJSON## блока обеспечит нужный внешний вид.\
Кроме этого нужно, чтобы у меню были области, реагирующие на клик. В данном случае
они совпадают с псевдоссылками, поэтому можно применить смешивание блоков (##mix##):</p>
<p>%%hl js
{
  block: &#39;b-menu-horiz&#39;,
  mods: { layout: &#39;normal&#39; },
  title: {
    elem: &#39;title&#39;, content: &#39;Navigation:&#39;
  },
  content: [
    {
      elem: &#39;item&#39;,
      elemMods: { state: &#39;current&#39; },
      content: {
        block: &#39;b-link&#39;,
        mods: { pseudo: &#39;yes&#39; },
        mix: [{ block: &#39;b-menu-horiz&#39;, elem : &#39;item-selector&#39; }],
        url: &#39;/&#39;,
        content: &#39;Home&#39;
      }
    },
    {
      elem: &#39;item&#39;,
      content: {
        block: &#39;b-link&#39;,
        mods: { pseudo: &#39;yes&#39; },
        mix: [{ block: &#39;b-menu-horiz&#39;, elem : &#39;item-selector&#39; }],
        url: &#39;/office&#39;,
        content: &#39;Office&#39;
      }
    },
    ...
  ]
}
%%</p>
<h2 id="javascript-">JavaScript## код блока реализован так, что активный пункт меню переключается</h2>
<p>при клике левой кнопкой мыши на соответствующем элементе ##item-selector##.</p>
<p>При явном использовании этот элемент представлен в ##DOM## в виде span, в который можно положить
блоки, составляющие пункт меню. Если же содержание пункта меню состоит всего из
одного блока (как в примере с псевдоссылками), для экономии разметки разумно
применять ##mix##.</p>
<p>Кроме того, что соответствующий элемент ##item## в результате клика приобретает
модификатор ##{ state: &#39;current&#39; }##, на ##BEM## объекте блока возникает событие ##current##,
сопровождающееся данными о текущем и предыдущем активных пунктах.
В своём ##JavaScript## приложении можно реагировать на это событие.</p>
<p>В ##HTML## по умолчанию блок представлен как имеющий ##JavaScript## реализацию (он смешан с блоком ##i-bem## и
имеет соответствующие параметры в атрибуте ##onclick##). Но если в блоке
отсутствуют элементы ##item-selector##, ##BEM## объект блока не создаётся.</p>
<p>==== Меню без подмешивания блока i-bem</p>
<p>%%hl js
{
  block: &#39;b-menu-horiz&#39;,
  js: false,
  mods: { layout: &#39;normal&#39; },
  content: [
    {
      elem: &#39;item&#39;,
      content: {
        block: &#39;b-link&#39;, url: &#39;/&#39;, content: &#39;Home&#39;
      }
    },
    {
      elem: &#39;item&#39;,
      content: {
        block: &#39;b-link&#39;, url: &#39;/office&#39;, content: &#39;Office&#39;
      }
    },
    ...
  ]
}
%%</p>
<p>Примешивание блока ##i-bem## можно устранить, указав в свойстве ##js## блока значение ##false##.</p>
<p>﻿В некоторых случаях для вывода меню не нужны даже ##DOM## узлы списка, а достаточно просто
перечислить ссылки, разделив их пробелом, запятой или каким-либо специальным символом.</p>
<p>Для вывода такого меню подходит реализация с модификатором ##{ layout: &#39;normal&#39; }##:</p>
<p>%%hl js
{
  block: &#39;b-menu-horiz&#39;,
  mods: { layout: &#39;simple&#39; },
  separator: &#39; | &#39;,
  content: [
    {
      elem: &#39;item&#39;,
      elemMods: { state: &#39;current&#39; },
      content: &#39;Home&#39;
    },
    {
      elem: &#39;item&#39;,
      content: {
      block: &#39;b-link&#39;,
      url: &#39;/&#39;,
      content: &#39;Products&#39;
    },
    ...
  ]
}
%%</p>
<h2 id="bemjson-separator-">BEMJSON## меню отличается наличием свойства ##separator## — того самого специального</h2>
<p>символа, который разделяет пункты меню.\
Активный пункт меню в данном примере представлен в виде простого текста в теге ##span##.</p>
</div></div></div></body></html>