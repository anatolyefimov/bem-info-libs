{"name":"b-menu-horiz","description":[{"content":"<p>﻿Блок ##b-menu-horiz## создаёт ##HTML## разметку для горизонтального меню. Кроме того,\nу блока есть ##JavaScript## функциональность, позволяющая создавать скрипты с реакцией на\nвыбор пункта меню.</p>\n<p>Сложность ##HTML## разметки меню зависит от модификатора, с которым используется блок.</p>\n<p>Реализован модификатор блока ##layout## с тремя возможными значениями:</p>\n<ul>\n<li><h2 id=\"horiz\">horiz</h2>\n</li>\n<li><h2 id=\"complex\">complex</h2>\n</li>\n<li><h2 id=\"normal\">normal</h2>\n</li>\n</ul>\n<p><strong>Важно:</strong> Без модификатоора  ##layout## блок использоваться не может.</p>\n<p>﻿Использование блока с модификатором ##{ layout: &#39;complex&#39; }## принципиально ничем не отличается.\nДля блока в такой модификации создаётся разметка на основе таблицы. Такое решение может\nпотребоваться при некоторых дизайнах.</p>\n<p>﻿Входные данные для блока с любым из этих модификаторов похожи: нужно описать блок, модификатор</p>\n<h2 id=\"layout-content-\">layout##, в качестве свойства ##content## блока перечислить пункты меню, которые выражаются</h2>\n<p>элементами ##item##:\n%%hl js\n{\n  block: &#39;b-menu-horiz&#39;,\n  mods: { layout: &#39;normal&#39; },\n  content: [\n    {\n      elem: &#39;item&#39;,\n      content: &#39;Home&#39;\n    },\n    {\n      elem: &#39;item&#39;,\n      content: &#39;Office&#39;\n    },\n    ...\n  ]\n}\n%%</p>\n<p>Содержанием элементов меню может быть что угодно: ссылки на страницы, псевдоссылки,\nиконки и вообще любые блоки. В примере выше каждый пункт меню — это просто строка текста.</p>\n<p>Такое же меню со ссылками будет выглядеть следующим образом:\n%%hl js\n{\n  block: &#39;b-menu-horiz&#39;,\n  mods: { layout: &#39;normal&#39; },\n  content: [\n    {\n      elem: &#39;item&#39;,\n      content: {\n        block: &#39;b-link&#39;, url: &#39;/&#39;, content: &#39;Home&#39;\n      }\n    },\n    {\n      elem: &#39;item&#39;,\n      content: {\n        block: &#39;b-link&#39;, url: &#39;/office&#39;, content: &#39;Office&#39;\n      }\n    },\n    ...\n  ]\n}\n%%</p>\n<p>Кроме того, у одного из пунктов меню может быть указан модификатор ##{ state: &#39;current&#39; }##,\nэтот модификатор помечает текущий пункт меню.</p>\n<p>На своём уровне переопределения можно реализовать для такого модификатора ##CSS## правила, по\nкоторым текущий пункт меню будет визуально отличаться от остальных.</p>\n<p>У меню также может быть необязательное свойство ##title##, содержащее описание элемента</p>\n<h2 id=\"title-\">title## — заголовка меню.</h2>\n<p>Для меню с заголовком ##BEMJSON## будет такой:\n%%hl js\n{\n  block: &#39;b-menu-horiz&#39;,\n  mods: { layout: &#39;normal&#39; },\n  title: {\n    elem: &#39;title&#39;, content: &#39;Navigation:&#39;\n  },\n  content: [\n    {\n      elem: &#39;item&#39;,\n      elemMods: { state: &#39;current&#39; },\n      content: {\n        block: &#39;b-link&#39;, url: &#39;/&#39;, content: &#39;Home&#39;\n      }\n    },\n    {\n      elem: &#39;item&#39;,\n      content: {\n        block: &#39;b-link&#39;, url: &#39;/office&#39;, content: &#39;Office&#39;\n      }\n    },\n    ...\n  ]\n}\n%%</p>\n<p>==== Горизонтальное меню с клиентской функциональностью</p>\n<p>Не всегда меню на сайте подразумевает ссылки, уводящие пользователя на другую\nстраницу. Меню может использоваться и для клиентского ##JavaScript## приложения.\nВ этом случае содержанием пунктов меню обычно бывают псевдоссылки:</p>\n<p>%%hl js\n{\n  block: &#39;b-menu-horiz&#39;,\n  mods: { layout: &#39;normal&#39; },\n  title: {\n    elem: &#39;title&#39;, content: &#39;Navigation:&#39;\n  },\n  content: [\n    {\n      elem: &#39;item&#39;,\n      elemMods: { state: &#39;current&#39; },\n      content: {\n        block: &#39;b-link&#39;,\n        mods: { pseudo: &#39;yes&#39; },\n        url: &#39;/&#39;,\n        content: &#39;Home&#39;\n      }\n    },\n    {\n      elem: &#39;item&#39;,\n      content: {\n        block: &#39;b-link&#39;,\n        mods: { pseudo: &#39;yes&#39; },\n        url: &#39;/office&#39;,\n        content: &#39;Office&#39;\n      }\n    },\n    ...\n  ]\n}\n%%</p>\n<p>Приведённый выше ##BEMJSON## блока обеспечит нужный внешний вид.\\\nКроме этого нужно, чтобы у меню были области, реагирующие на клик. В данном случае\nони совпадают с псевдоссылками, поэтому можно применить смешивание блоков (##mix##):</p>\n<p>%%hl js\n{\n  block: &#39;b-menu-horiz&#39;,\n  mods: { layout: &#39;normal&#39; },\n  title: {\n    elem: &#39;title&#39;, content: &#39;Navigation:&#39;\n  },\n  content: [\n    {\n      elem: &#39;item&#39;,\n      elemMods: { state: &#39;current&#39; },\n      content: {\n        block: &#39;b-link&#39;,\n        mods: { pseudo: &#39;yes&#39; },\n        mix: [{ block: &#39;b-menu-horiz&#39;, elem : &#39;item-selector&#39; }],\n        url: &#39;/&#39;,\n        content: &#39;Home&#39;\n      }\n    },\n    {\n      elem: &#39;item&#39;,\n      content: {\n        block: &#39;b-link&#39;,\n        mods: { pseudo: &#39;yes&#39; },\n        mix: [{ block: &#39;b-menu-horiz&#39;, elem : &#39;item-selector&#39; }],\n        url: &#39;/office&#39;,\n        content: &#39;Office&#39;\n      }\n    },\n    ...\n  ]\n}\n%%</p>\n<h2 id=\"javascript-\">JavaScript## код блока реализован так, что активный пункт меню переключается</h2>\n<p>при клике левой кнопкой мыши на соответствующем элементе ##item-selector##.</p>\n<p>При явном использовании этот элемент представлен в ##DOM## в виде span, в который можно положить\nблоки, составляющие пункт меню. Если же содержание пункта меню состоит всего из\nодного блока (как в примере с псевдоссылками), для экономии разметки разумно\nприменять ##mix##.</p>\n<p>Кроме того, что соответствующий элемент ##item## в результате клика приобретает\nмодификатор ##{ state: &#39;current&#39; }##, на ##BEM## объекте блока возникает событие ##current##,\nсопровождающееся данными о текущем и предыдущем активных пунктах.\nВ своём ##JavaScript## приложении можно реагировать на это событие.</p>\n<p>В ##HTML## по умолчанию блок представлен как имеющий ##JavaScript## реализацию (он смешан с блоком ##i-bem## и\nимеет соответствующие параметры в атрибуте ##onclick##). Но если в блоке\nотсутствуют элементы ##item-selector##, ##BEM## объект блока не создаётся.</p>\n<p>==== Меню без подмешивания блока i-bem</p>\n<p>%%hl js\n{\n  block: &#39;b-menu-horiz&#39;,\n  js: false,\n  mods: { layout: &#39;normal&#39; },\n  content: [\n    {\n      elem: &#39;item&#39;,\n      content: {\n        block: &#39;b-link&#39;, url: &#39;/&#39;, content: &#39;Home&#39;\n      }\n    },\n    {\n      elem: &#39;item&#39;,\n      content: {\n        block: &#39;b-link&#39;, url: &#39;/office&#39;, content: &#39;Office&#39;\n      }\n    },\n    ...\n  ]\n}\n%%</p>\n<p>Примешивание блока ##i-bem## можно устранить, указав в свойстве ##js## блока значение ##false##.</p>\n<p>﻿В некоторых случаях для вывода меню не нужны даже ##DOM## узлы списка, а достаточно просто\nперечислить ссылки, разделив их пробелом, запятой или каким-либо специальным символом.</p>\n<p>Для вывода такого меню подходит реализация с модификатором ##{ layout: &#39;normal&#39; }##:</p>\n<p>%%hl js\n{\n  block: &#39;b-menu-horiz&#39;,\n  mods: { layout: &#39;simple&#39; },\n  separator: &#39; | &#39;,\n  content: [\n    {\n      elem: &#39;item&#39;,\n      elemMods: { state: &#39;current&#39; },\n      content: &#39;Home&#39;\n    },\n    {\n      elem: &#39;item&#39;,\n      content: {\n      block: &#39;b-link&#39;,\n      url: &#39;/&#39;,\n      content: &#39;Products&#39;\n    },\n    ...\n  ]\n}\n%%</p>\n<h2 id=\"bemjson-separator-\">BEMJSON## меню отличается наличием свойства ##separator## — того самого специального</h2>\n<p>символа, который разделяет пункты меню.\\\nАктивный пункт меню в данном примере представлен в виде простого текста в теге ##span##.</p>\n"}],"examples":[{"url":"b-menu-horiz.examples/05-b-menu-horiz_simple/_05-b-menu-horiz_simple"},{"url":"b-menu-horiz.examples/10-b-menu-horiz_normal/_10-b-menu-horiz_normal"},{"url":"b-menu-horiz.examples/20-b-menu-horiz_complex/_20-b-menu-horiz_complex"},{"url":"b-menu-horiz.examples/30-b-menu-horiz_normal-js/_30-b-menu-horiz_normal-js"}]}