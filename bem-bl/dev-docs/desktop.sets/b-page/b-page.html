<!doctype html><html class="page__root"><head><meta charset="utf-8"/><title></title><link rel="stylesheet" href="../undefined/_undefined.css"/><script src="//yandex.st/jquery/1.8.2/jquery.min.js"></script><script src="../undefined/_undefined.js"></script></head><body class="page"><div class="catalogue"><div class="block"><div class="header"><a class="link link_pos_right" href="../index/index.html">← каталог</a><span class="header__block-name">Блок b-page</span></div><div class="block__title"></div><div class="block__description static-text"><p>﻿Блок ##b-page## создаёт теги верхнего уровня страницы:</p>
<ul>
<li><h2 id="-html-"><html></h2>
</li>
<li><h2 id="-head-"><head></h2>
</li>
<li><h2 id="-body-"><body></h2>
</li>
</ul>
<p>Именно он отвечает за то, какие подключить ##CSS## и ##JS## файлы к странице,
выставление ##meta## тегов, заголовка и так далее.</p>
<p>Декларация блока в ##BEMJSON## начинается объявлением блока и
указанием свойства ##title##, которое превращается в тег ##<title>## в ##HTML##.</p>
<p>%%hl js
({
block: &#39;b-page&#39;,
title: &#39;Page with link&#39;,
...
})
%%</p>
<p>Указание свойства ##head## дополняет элемент ##head##, соответствующий ##HTML## тегу ##<head>##,
элементами для подключения ##CSS## и ##JS## файлов:</p>
<p>%%hl js
({
...
head: [
    { elem: &#39;css&#39;, url: &#39;example.css&#39;, ie: false },
    { elem: &#39;css&#39;, url: &#39;example.ie.css&#39;, ie: &#39;lt IE 8&#39; },
    { elem: &#39;js&#39;, url: &#39;example.js&#39; }
],
...
})
%%</p>
<p>Элемент ##css## превращается в ##HTML## в тег ##<link>##, подключающий как ##CSS## стиль тот файл,
что указан в свойстве ##url## этого элемента. Также у такого элемента может быть свойство ##ie##.
Если это свойство ##false##, то будут использоваться такие ##condittional
comments##, которые предотвратят использование этих стилей в ##IE##. При
строчном значении этого свойства тег ##<link>## , будет обёрнут в соответствующий ##conditional
comment##, и этот стиль будет грузиться и использоваться указанных
браузерах.\
Также есть возможность указывать свойство ##content## для содержания тега ##<style>##:</p>
<p>%%hl js
({
...
head: [
    {
        elem: &#39;css&#39;,
        content: &#39;.b-blah { color: #f00&#39; }
    },
    ...
],
...
})
%%</p>
<p>Элемент ##js## действует аналогично, подключая к странице ##JS## файлы при помощи тега</p>
<h2 id="-script-"><script>##.</h2>
<p>Свойство ##head## не описывает содержание ##HTML##-тега ##<head>## полностью, а лишь
дополняет дефолтное, которое блок сам создаёт в своём ##BEMHTML## шаблоне.</p>
<p>==== Тег <meta> с указанием кодировки</p>
<h2 id="bemhtml-">BEMHTML##:</h2>
<p>%%hl js
content: [
{
    tag: &#39;meta&#39;,
    attrs: { &#39;http-equiv&#39;: &#39;content-type&#39;, content: &#39;text/html; charset=utf-8&#39; }
},
...
%%</p>
<p>==== Тег <meta> для использования ##IE9## (и выше) в максимальном ##compatibility## режиме</p>
<h2 id="bemhtml-">BEMHTML##:</h2>
<p>%%hl js
content: [
...
{
    tag: &#39;meta&#39;,
    attrs: { &#39;http-equiv&#39;: &#39;X-UA-Compatible&#39;, content: &#39;IE=EmulateIE7, IE=edge&#39; }
},
...
%%</p>
<p>==== Выставление значения тега <title> страницы из свойства</p>
<p>%%hl js
content: [
...
{
    tag: &#39;title&#39;,
    content: this.ctx.title
},
...
%%</p>
<p>==== Выставление фавиконки</p>
<p>%%hl js
content: [
...
this.ctx.favicon ? {
    elem: &#39;favicon&#39;,
    url: this.ctx.favicon
} : &#39;&#39;,
...
%%</p>
<p>==== Декларация блока i-ua</p>
<p>%%hl js
content: [
...
{
    block: &#39;i-ua&#39;
},
...
%%</p>
<p>Аналогично указанию свойства ##head##, может быть задано свойство ##meta##,
содержашее один или несколько элементов ##meta##:</p>
<p>%%hl js
({
...
meta: {
    elem: &#39;meta&#39;,
    attrs: {
        name: &#39;keywords&#39;,
        content: &#39;js, css, html&#39;
    }
},
...
})
%%</p>
<p>%%hl js
({
...
meta: [
    {
        elem: &#39;meta&#39;,
        attrs: {
            name: &#39;keywords&#39;,
            content: &#39;js, css, html&#39;
        }
    },
    {
        elem: &#39;meta&#39;,
        attrs: {
            name : &#39;description&#39;,
            content : &#39;Yet another webdev blog&#39;
        }
    }
]
...
})
%%</p>
<p>Значением свойства ##content## блока ##b-page## может быть хеш-описание содержимого
(если речь идёт лишь об одном блоке) или массив блоков, описанных хешами:</p>
<p>%%hl js
({
...
content: {
    block: &#39;b-link&#39;,
    mods: { pseudo: &#39;yes&#39;, togcolor: &#39;yes&#39;, color: &#39;green&#39; },
    url: &#39;#&#39;,
    target: &#39;_blank&#39;,
    title: &#39;Кликни меня&#39;,
    content: &#39;Псевдоссылка, меняющая цвет по клику&#39;
}
})
%%</p>
<p>На блоки, содержащиеся в ##content##, действуют их ##BEMHTML## шаблоны.</p>
<p>==== Отмена автоматической инициализации блоков</p>
<p>%%hl js
noDeps: [
    { block: &#39;i-bem&#39;, elem: &#39;dom&#39;, mods: { init: &#39;auto&#39; } }
]
%%</p>
</div></div></div></body></html>