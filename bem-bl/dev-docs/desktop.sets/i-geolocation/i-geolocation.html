<!doctype html><html class="page__root"><head><meta charset="utf-8"/><title></title><link rel="stylesheet" href="../undefined/_undefined.css"/><script src="//yandex.st/jquery/1.8.2/jquery.min.js"></script><script src="../undefined/_undefined.js"></script></head><body class="page"><div class="catalogue"><div class="block"><div class="header"><a class="link link_pos_right" href="../index/index.html">← каталог</a><span class="header__block-name">Блок i-geolocation</span></div><div class="block__title"></div><div class="block__description static-text"><p>Обёртка над Geolocation API для получения информации о текущем местоположении пользователя.</p>
<p>Если всё хорошо, статический метод get() вернёт в колбэк объект со следующими данными:</p>
<ul>
<li>latitude - широта, градусы;</li>
<li>longitude - долгота, градусы;</li>
<li>altitude -  высота над уровнем моря, м;</li>
<li>altitudeAccuracy - точность определения высоты, м;</li>
<li>speed - скорость движения, м/с;</li>
<li>heading - направление движения, в градусах относительно географического севера;</li>
<li>accuracy - точность, м;</li>
<li>timestamp - время, DOMTimeStamp;</li>
</ul>
<p>Если всё плохо, статический метод get() вернёт в колбэк объект с кодом ошибки:</p>
<ul>
<li>1 - браузер не поддерживает Geolocation API;</li>
<li>2 - пользователь отклонил запрос на получение текущего местоположения;</li>
<li>3 - невозможно получить данные / нет ответа от спутников;</li>
<li>4 - таймаут;</li>
<li>5 - что-то ещё пошло не так / неизвестная ошибка;</li>
</ul>
<p>Параметры:</p>
<ul>
<li>enableHighAccuracy - если есть и активирован полноценный GPS, то полученные данные будут более точные (по умолчанию true);</li>
<li>timeout - таймаут геозапроса, в секундах (по умолчанию 15);</li>
<li>cacheTime - время кэширования геозапроса, в течение которого полученные данные считаются актуальными, в минутах (по умолчанию 15);</li>
</ul>
<p>Пример использования:</p>
<p>%%hl js
    ...
    BEM.blocks[&#39;i-geolocation&#39;].get(params, function(data) {
        if (data.error) {
            ...
        } else {
            ...
        }
    });
    ...
%%</p>
</div></div></div></body></html>